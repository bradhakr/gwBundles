<l7:Bundle xmlns:l7="http://ns.l7tech.com/2010/04/gateway-management">
    <l7:References>
        <l7:Item>
            <l7:Name>Root Node</l7:Name>
            <l7:Id>0000000000000000ffffffffffffec76</l7:Id>
            <l7:Type>FOLDER</l7:Type>
            <l7:Resource>
                <l7:Folder id="0000000000000000ffffffffffffec76">
                    <l7:Name>Root Node</l7:Name>
                </l7:Folder>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4374</l7:Id>
            <l7:Type>FOLDER</l7:Type>
            <l7:Resource>
                <l7:Folder folderId="0000000000000000ffffffffffffec76" id="e5fa8dd4a897fdbdafa8327bde4b4374">
                    <l7:Name>Enterprise</l7:Name>
                </l7:Folder>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/JWT</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4375</l7:Id>
            <l7:Type>FOLDER</l7:Type>
            <l7:Resource>
                <l7:Folder folderId="e5fa8dd4a897fdbdafa8327bde4b4374" id="e5fa8dd4a897fdbdafa8327bde4b4375">
                    <l7:Name>JWT</l7:Name>
                </l7:Folder>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4376</l7:Id>
            <l7:Type>FOLDER</l7:Type>
            <l7:Resource>
                <l7:Folder folderId="e5fa8dd4a897fdbdafa8327bde4b4374" id="e5fa8dd4a897fdbdafa8327bde4b4376">
                    <l7:Name>Consul</l7:Name>
                </l7:Folder>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4377</l7:Id>
            <l7:Type>FOLDER</l7:Type>
            <l7:Resource>
                <l7:Folder folderId="e5fa8dd4a897fdbdafa8327bde4b4374" id="e5fa8dd4a897fdbdafa8327bde4b4377">
                    <l7:Name>MasterTemplate</l7:Name>
                </l7:Folder>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Proxies</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4378</l7:Id>
            <l7:Type>FOLDER</l7:Type>
            <l7:Resource>
                <l7:Folder folderId="e5fa8dd4a897fdbdafa8327bde4b4374" id="e5fa8dd4a897fdbdafa8327bde4b4378">
                    <l7:Name>Proxies</l7:Name>
                </l7:Folder>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/Consul - Dynamic Route with Service [complete address]</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b435b</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="1ab1d0d6-1338-491c-b64e-64b63cdbe911" id="e5fa8dd4a897fdbdafa8327bde4b435b">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="1ab1d0d6-1338-491c-b64e-64b63cdbe911" id="e5fa8dd4a897fdbdafa8327bde4b435b">
                        <l7:Name>Consul - Dynamic Route with Service [complete address]</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Dynamic Route with Service"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Dynamic Service Route"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtlbmRQb2ludENhbGxpbmd9"/&gt;
                    &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:Regex&gt;
                    &lt;L7p:AutoTarget booleanValue="false"/&gt;
                    &lt;L7p:CaseInsensitive booleanValue="true"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="param.uri"/&gt;
                    &lt;L7p:PatternContainsVariables booleanValue="true"/&gt;
                    &lt;L7p:Regex stringValue="/${endPointCalling}"/&gt;
                    &lt;L7p:RegexName stringValue="process uri"/&gt;
                    &lt;L7p:Replace booleanValue="true"/&gt;
                    &lt;L7p:Replacement stringValue="/"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:Expression1 stringValue="${param.uri}"/&gt;
                    &lt;L7p:Expression2 stringValue="/"/&gt;
                    &lt;L7p:Negate booleanValue="true"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:RightValue stringValue="/"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:Expression1 stringValue="${param.uri}"/&gt;
                            &lt;L7p:Expression2 stringValue="[]"/&gt;
                            &lt;L7p:Operator operator="NE"/&gt;
                            &lt;L7p:Predicates predicates="included"&gt;
                                &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:Operator operator="NE"/&gt;
                                    &lt;L7p:RightValue stringValue="[]"/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:Split&gt;
                            &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                            &lt;L7p:InputVariable stringValue="param.uri"/&gt;
                            &lt;L7p:OutputVariable stringValue="uriSplit"/&gt;
                            &lt;L7p:SplitPattern stringValue="/"/&gt;
                        &lt;/L7p:Split&gt;
                        &lt;L7p:CacheLookup&gt;
                            &lt;L7p:CacheEntryKey stringValue="${uriSplit[0]}"/&gt;
                            &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                            &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                            &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                            &lt;L7p:OtherTargetMessageVariable stringValue="serviceAddress"/&gt;
                            &lt;L7p:Target target="OTHER"/&gt;
                        &lt;/L7p:CacheLookup&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="JHtzZXJ2aWNlQWRkcmVzcy5tYWlucGFydH0="/&gt;
                            &lt;L7p:VariableToSet stringValue="hostAddress"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:Split&gt;
                            &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                            &lt;L7p:InputVariable stringValue="hostAddress"/&gt;
                            &lt;L7p:OutputVariable stringValue="hostDetails"/&gt;
                        &lt;/L7p:Split&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue=""/&gt;
                            &lt;L7p:VariableToSet stringValue="hosturl"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:ForEachLoop L7p:Usage="Required" loopVariable="hostDetails" variablePrefix="url"&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHt1cmwuY3VycmVudH0ke3JlcXVlc3QudXJsLnF1ZXJ5fSw="/&gt;
                                &lt;L7p:VariableToSet stringValue="hosturl"/&gt;
                            &lt;/L7p:SetVariable&gt;
                        &lt;/L7p:ForEachLoop&gt;
                        &lt;L7p:Split&gt;
                            &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                            &lt;L7p:InputVariable stringValue="hosturl"/&gt;
                            &lt;L7p:OutputVariable stringValue="routeList"/&gt;
                        &lt;/L7p:Split&gt;
                        &lt;L7p:CreateRoutingStrategy&gt;
                            &lt;L7p:Routes routes="included"&gt;
                                &lt;L7p:item route="included"&gt;
                                    &lt;L7p:Name stringValue="${routeList}"/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Routes&gt;
                            &lt;L7p:StrategyDescription stringValue="Round-Robin"/&gt;
                            &lt;L7p:StrategyName stringValue="robin"/&gt;
                        &lt;/L7p:CreateRoutingStrategy&gt;
                        &lt;L7p:ForEachLoop L7p:Usage="Required" loopVariable="strategy.routeList" variablePrefix="route"&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="MA=="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.status"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:ExecuteRoutingStrategy/&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:ConnectionTimeout stringValue="3000"/&gt;
                                    &lt;L7p:ProtectedServiceUrl stringValue="${route}"/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="Cookie"/&gt;
                                            &lt;/L7p:item&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                                            &lt;/L7p:item&gt;
                                        &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;
                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                                    &lt;/L7p:RequestParamRules&gt;
                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                                            &lt;/L7p:item&gt;
                                        &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;
                                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                                    &lt;L7p:Timeout stringValue="6000"/&gt;
                                &lt;/L7p:HttpRoutingAssertion&gt;
                                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue="LTE="/&gt;
                                    &lt;L7p:DataType variableDataType="int"/&gt;
                                    &lt;L7p:VariableToSet stringValue="feedback.current.status"/&gt;
                                &lt;/L7p:SetVariable&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHthc3NlcnRpb24ubGF0ZW5jeS5tc30="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.latency"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHtodHRwcm91dGluZy5yZWFzb25Db2RlfQ=="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.reasoncode"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${feedback.current.status}"/&gt;
                                    &lt;L7p:Operator operatorNull="null"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item dataType="included"&gt;
                                            &lt;L7p:Type variableDataType="int"/&gt;
                                        &lt;/L7p:item&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:Negated booleanValue="true"/&gt;
                                            &lt;L7p:Operator operator="EMPTY"/&gt;
                                            &lt;L7p:RightValue stringValue=""/&gt;
                                        &lt;/L7p:item&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:RightValue stringValue="-1"/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue="dHJ1ZQ=="/&gt;
                                    &lt;L7p:VariableToSet stringValue="routeList.break"/&gt;
                                &lt;/L7p:SetVariable&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:ProcessRoutingStrategyResult/&gt;
                        &lt;/L7p:ForEachLoop&gt;
                    &lt;/wsp:All&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:CustomizeErrorResponse&gt;
                            &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Service not found - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                            &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                            &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                                &lt;L7p:item nameValuePair="included"&gt;
                                    &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                                    &lt;L7p:Value stringValue="Request Failer"/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:ExtraHeaders&gt;
                        &lt;/L7p:CustomizeErrorResponse&gt;
                        &lt;L7p:RaiseError/&gt;
                    &lt;/wsp:All&gt;
                &lt;/wsp:OneOrMore&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Insufficient Information - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/Consul - PUT Key</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4357</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="747788aa-116d-480e-a212-76d71ebfd80b" id="e5fa8dd4a897fdbdafa8327bde4b4357">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="747788aa-116d-480e-a212-76d71ebfd80b" id="e5fa8dd4a897fdbdafa8327bde4b4357">
                        <l7:Name>Consul - PUT Key</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - PUT Key"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
            &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="JHtlbmRQb2ludENhbGxpbmd9"/&gt;
            &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/&gt;
            &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:Regex&gt;
            &lt;L7p:AutoTarget booleanValue="false"/&gt;
            &lt;L7p:CaseInsensitive booleanValue="true"/&gt;
            &lt;L7p:OtherTargetMessageVariable stringValue="param.uri"/&gt;
            &lt;L7p:Regex stringValue="/put/key/"/&gt;
            &lt;L7p:RegexName stringValue="process uri"/&gt;
            &lt;L7p:Replace booleanValue="true"/&gt;
            &lt;L7p:Replacement stringValue="/"/&gt;
            &lt;L7p:Target target="OTHER"/&gt;
        &lt;/L7p:Regex&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:HttpMethod httpMethod="PUT"/&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/kv${param.uri}"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/JWT-Validate</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b435a</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="54671f73-3a06-4eb2-a8de-92c04c42a3b5" id="e5fa8dd4a897fdbdafa8327bde4b435a">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="54671f73-3a06-4eb2-a8de-92c04c42a3b5" id="e5fa8dd4a897fdbdafa8327bde4b435a">
                        <l7:Name>JWT-Validate</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Validate JWT Token"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:All wsp:Usage="Required"&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="JHtnYXRld2F5Lmp3dC5ob3N0fToke2dhdGV3YXkuand0LnBvcnR9"/&gt;
                &lt;L7p:VariableToSet stringValue="jwt.url"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAuaGVhZGVyLkF1dGhvcml6YXRpb259"/&gt;
                &lt;L7p:VariableToSet stringValue="jwt"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue=""/&gt;
                &lt;L7p:ContentType stringValue="application/json; charset=utf-8"/&gt;
                &lt;L7p:DataType variableDataType="message"/&gt;
                &lt;L7p:VariableToSet stringValue="MSKeyInfoResp"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="aHR0cHM6Ly8ke2p3dC51cmx9Ly53ZWxsLWtub3duL3YyLjAvb3BlbmlkLWNvbmZpZ3VyYXRpb24="/&gt;
                &lt;L7p:VariableToSet stringValue="MSKeyInfoURL"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="andrcw=="/&gt;
                &lt;L7p:VariableToSet stringValue="cacheKey"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:AuditDetailAssertion&gt;
                &lt;L7p:Detail stringValue="URL - ${MSKeyInfoURL}"/&gt;
            &lt;/L7p:AuditDetailAssertion&gt;
        &lt;/wsp:All&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All L7p:Enabled="false" wsp:Usage="Required"&gt;
                &lt;L7p:CacheLookup&gt;
                    &lt;L7p:CacheEntryKey stringValue="${cacheKey}"/&gt;
                    &lt;L7p:CacheId stringValue="jwks"/&gt;
                    &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                    &lt;L7p:Enabled booleanValue="false"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="keyResp"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                &lt;/L7p:CacheLookup&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:HttpMethod httpMethod="GET"/&gt;
                    &lt;L7p:KeyAlias stringValue="gw.security.broadcom.com"/&gt;
                    &lt;L7p:NonDefaultKeystoreId goidValue="00000000000000000000000000000005"/&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${MSKeyInfoURL}"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:ResponseMsgDest stringValue="MSKeyInfoResp"/&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
                &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                    &lt;L7p:Expression stringValue="$.jwks_uri"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="MSKeyInfoResp"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                    &lt;L7p:VariablePrefix stringValue="jwksURL"/&gt;
                &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:HttpMethod httpMethod="GET"/&gt;
                    &lt;L7p:KeyAlias stringValue="gw.security.broadcom.com"/&gt;
                    &lt;L7p:NonDefaultKeystoreId goidValue="00000000000000000000000000000005"/&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${jwksURL.result}"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:ResponseMsgDest stringValue="keyResp"/&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
                &lt;L7p:CacheStorage&gt;
                    &lt;L7p:CacheEntryKey stringValue="${cacheKey}"/&gt;
                    &lt;L7p:CacheId stringValue="jwks"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="keyResp"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                &lt;/L7p:CacheStorage&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:DecodeJsonWebToken&gt;
                    &lt;L7p:FailUnverifiedSignature booleanValue="true"/&gt;
                    &lt;L7p:KeyId stringValue="7layer"/&gt;
                    &lt;L7p:KeyType stringValue="JSON Web Key Set"/&gt;
                    &lt;L7p:PrivateKeySource stringValue="${keyResp.mainpart}"/&gt;
                    &lt;L7p:SourcePayload stringValue="${jwt}"/&gt;
                    &lt;L7p:TargetVariablePrefix stringValue="decode"/&gt;
                    &lt;L7p:ValidationType stringValue="Using Recipient Key From Context Variable"/&gt;
                &lt;/L7p:DecodeJsonWebToken&gt;
                &lt;L7p:HardcodedResponse&gt;
                    &lt;L7p:Base64ResponseBody stringValue="JHtsYW1iZGFSZXNwfQoKSldLOgoke2p3a30KJHtrZXlSZXNwLm1haW5wYXJ0fQoKSldUOgoke2p3dC5jb21wYWN0fQoKRGVjb2RlZCBKV1Q6CiR7ZGVjb2RlLmhlYWRlcn0KJHtkZWNvZGUucGF5bG9hZH0KJHtkZWNvZGUuc2lnbmF0dXJlfQoke2RlY29kZS5lbmNyeXB0ZWRrZXl9"/&gt;
                    &lt;L7p:ResponseContentType stringValue="text/plain; charset=UTF-8"/&gt;
                &lt;/L7p:HardcodedResponse&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Authentication Failure",
   "Descripton" : "Invalidate JWT Token - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/Consul - Catalog Register</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b435e</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="47ff8550-46ca-4f65-9bd7-416224f296fc" id="e5fa8dd4a897fdbdafa8327bde4b435e">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="47ff8550-46ca-4f65-9bd7-416224f296fc" id="e5fa8dd4a897fdbdafa8327bde4b435e">
                        <l7:Name>Consul - Catalog Register</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Catalog Register"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
            &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:HttpMethod httpMethod="PUT"/&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/catalog/register"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/Consul - DeRegister Catalog</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b432d</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="165e93e6-1e6a-461e-9d13-3b9dd494f7e0" id="e5fa8dd4a897fdbdafa8327bde4b432d">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="165e93e6-1e6a-461e-9d13-3b9dd494f7e0" id="e5fa8dd4a897fdbdafa8327bde4b432d">
                        <l7:Name>Consul - DeRegister Catalog</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - DeRegister Catalog"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - DeRegister Service"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
            &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:FailOnErrorStatus booleanValue="false"/&gt;
            &lt;L7p:HttpMethod httpMethod="PUT"/&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/catalog/deregister"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/Consul - Catalog Search</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b435c</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="277cd4ca-ab1b-4090-9852-b7d5a0ef3a51" id="e5fa8dd4a897fdbdafa8327bde4b435c">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="277cd4ca-ab1b-4090-9852-b7d5a0ef3a51" id="e5fa8dd4a897fdbdafa8327bde4b435c">
                        <l7:Name>Consul - Catalog Search</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Catalog Search"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
            &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="JHtlbmRQb2ludENhbGxpbmd9"/&gt;
            &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="c2VydmljZS9jYXRhbG9nLw=="/&gt;
            &lt;L7p:Enabled booleanValue="false"/&gt;
            &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/&gt;
            &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:Regex&gt;
            &lt;L7p:AutoTarget booleanValue="false"/&gt;
            &lt;L7p:CaptureVar stringValue="value"/&gt;
            &lt;L7p:CaseInsensitive booleanValue="true"/&gt;
            &lt;L7p:OtherTargetMessageVariable stringValue="param.uri"/&gt;
            &lt;L7p:Regex stringValue="/service/catalog/"/&gt;
            &lt;L7p:RegexName stringValue="process uri"/&gt;
            &lt;L7p:Replace booleanValue="true"/&gt;
            &lt;L7p:Replacement stringValue="/"/&gt;
            &lt;L7p:Target target="OTHER"/&gt;
        &lt;/L7p:Regex&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${value[0]}"/&gt;
                    &lt;L7p:Operator operatorNull="null"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item dataType="included"&gt;
                            &lt;L7p:Type variableDataType="string"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:RightValue stringValue="/service/catalog/"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/catalog/service${param.uri}"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:FailOnErrorStatus booleanValue="false"/&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/catalog/services"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="JHtyZXNwb25zZS5tYWlucGFydH0="/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/Consul-CatalogSync</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4330</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="91e05ee5-c945-4f4f-8c9d-30088309a863" id="e5fa8dd4a897fdbdafa8327bde4b4330">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="91e05ee5-c945-4f4f-8c9d-30088309a863" id="e5fa8dd4a897fdbdafa8327bde4b4330">
                        <l7:Name>Consul-CatalogSync</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:AuditAssertion&gt;
            &lt;L7p:Level stringValue="INFO"/&gt;
            &lt;L7p:SaveRequest booleanValue="true"/&gt;
            &lt;L7p:SaveResponse booleanValue="true"/&gt;
        &lt;/L7p:AuditAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
            &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:AssertionComment assertionComment="included"&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Get all nodes"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:HttpMethod httpMethod="GET"/&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/coordinate/nodes"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
        &lt;L7p:EvaluateJsonPathExpressionV2&gt;
            &lt;L7p:AssertionComment assertionComment="included"&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// Parse node info"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Expression stringValue=".Node"/&gt;
            &lt;L7p:Target target="RESPONSE"/&gt;
            &lt;L7p:VariablePrefix stringValue="nodes"/&gt;
        &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
        &lt;L7p:ForEachLoop L7p:Usage="Required" loopVariable="nodes.results" variablePrefix="node"&gt;
            &lt;L7p:HttpRoutingAssertion&gt;
                &lt;L7p:AssertionComment assertionComment="included"&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// Get health for node"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:HttpMethod httpMethod="GET"/&gt;
                &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/health/node/${node.current}"/&gt;
                &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                        &lt;L7p:item httpPassthroughRule="included"&gt;
                            &lt;L7p:Name stringValue="Cookie"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item httpPassthroughRule="included"&gt;
                            &lt;L7p:Name stringValue="SOAPAction"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Rules&gt;
                &lt;/L7p:RequestHeaderRules&gt;
                &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                    &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                &lt;/L7p:RequestParamRules&gt;
                &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                        &lt;L7p:item httpPassthroughRule="included"&gt;
                            &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Rules&gt;
                &lt;/L7p:ResponseHeaderRules&gt;
                &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
            &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                &lt;wsp:All wsp:Usage="Required"&gt;
                    &lt;L7p:ComparisonAssertion&gt;
                        &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                        &lt;L7p:Expression1 stringValue="${response.mainpart}"/&gt;
                        &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                        &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                        &lt;L7p:Operator operatorNull="null"/&gt;
                        &lt;L7p:Predicates predicates="included"&gt;
                            &lt;L7p:item dataType="included"&gt;
                                &lt;L7p:Type variableDataType="string"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item binary="included"&gt;
                                &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                &lt;L7p:Negated booleanValue="true"/&gt;
                                &lt;L7p:RightValue stringValue="[]"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Predicates&gt;
                    &lt;/L7p:ComparisonAssertion&gt;
                    &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                        &lt;L7p:AssertionComment assertionComment="included"&gt;
                            &lt;L7p:Properties mapValue="included"&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="// Parse service names"/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:AssertionComment&gt;
                        &lt;L7p:Expression stringValue=".ServiceName"/&gt;
                        &lt;L7p:Target target="RESPONSE"/&gt;
                        &lt;L7p:VariablePrefix stringValue="serviceNames"/&gt;
                    &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                    &lt;L7p:ForEachLoop L7p:Usage="Required" loopVariable="serviceNames.results" variablePrefix="serviceName"&gt;
                        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                            &lt;wsp:All wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${serviceName.current}"/&gt;
                                    &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                                    &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                                    &lt;L7p:Operator operatorNull="null"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item dataType="included"&gt;
                                            &lt;L7p:Type variableDataType="string"/&gt;
                                        &lt;/L7p:item&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:Negated booleanValue="true"/&gt;
                                            &lt;L7p:Operator operator="EMPTY"/&gt;
                                            &lt;L7p:RightValue stringValue=""/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment="included"&gt;
                                        &lt;L7p:Properties mapValue="included"&gt;
                                            &lt;L7p:entry&gt;
                                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                                &lt;L7p:value stringValue="//Get service info"/&gt;
                                            &lt;/L7p:entry&gt;
                                        &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:HttpMethod httpMethod="GET"/&gt;
                                    &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/health/service/${serviceName.current}"/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="Cookie"/&gt;
                                            &lt;/L7p:item&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                                            &lt;/L7p:item&gt;
                                        &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;
                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                                    &lt;/L7p:RequestParamRules&gt;
                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                                            &lt;/L7p:item&gt;
                                        &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;
                                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                                &lt;/L7p:HttpRoutingAssertion&gt;
                                &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                                    &lt;L7p:AssertionComment assertionComment="included"&gt;
                                        &lt;L7p:Properties mapValue="included"&gt;
                                            &lt;L7p:entry&gt;
                                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                                &lt;L7p:value stringValue="// Parse service for all addresses"/&gt;
                                            &lt;/L7p:entry&gt;
                                        &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Expression stringValue=".Service.Address"/&gt;
                                    &lt;L7p:Target target="RESPONSE"/&gt;
                                    &lt;L7p:VariablePrefix stringValue="serviceAddresses"/&gt;
                                &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                                &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue="Addresses retrieved from consul : ${serviceAddresses.results}"/&gt;
                                    &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                                &lt;/L7p:AuditDetailAssertion&gt;
                                &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                    &lt;L7p:CacheLookup&gt;
                                        &lt;L7p:CacheEntryKey stringValue="${serviceName.current}"/&gt;
                                        &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                                        &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                                        &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                                        &lt;L7p:OtherTargetMessageVariable stringValue="serviceName.available"/&gt;
                                        &lt;L7p:Target target="OTHER"/&gt;
                                    &lt;/L7p:CacheLookup&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                        &lt;L7p:Detail stringValueReference="inline"&gt;&lt;![CDATA[Before Saving 
Service name : ${serviceName.current}
Addresses from Cache before storing : ${serviceName.available.mainpart}]]&gt;&lt;/L7p:Detail&gt;
                                        &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                &lt;/wsp:OneOrMore&gt;
                                &lt;wsp:All wsp:Usage="Required"&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                        &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                        &lt;L7p:Expression1 stringValue="${serviceAddresses.results}"/&gt;
                                        &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                                        &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                                        &lt;L7p:Operator operatorNull="null"/&gt;
                                        &lt;L7p:Predicates predicates="included"&gt;
                                            &lt;L7p:item dataType="included"&gt;
                                                &lt;L7p:Type variableDataType="string"/&gt;
                                            &lt;/L7p:item&gt;
                                            &lt;L7p:item binary="included"&gt;
                                                &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                                &lt;L7p:Negated booleanValue="true"/&gt;
                                                &lt;L7p:Operator operator="EMPTY"/&gt;
                                                &lt;L7p:RightValue stringValue=""/&gt;
                                            &lt;/L7p:item&gt;
                                        &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                        &lt;L7p:Detail stringValue="Before Saving Addresses retrieved from consul : ${serviceAddresses.results}"/&gt;
                                        &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                        &lt;L7p:Base64Expression stringValue="JHtzZXJ2aWNlQWRkcmVzc2VzLnJlc3VsdHN9"/&gt;
                                        &lt;L7p:ContentType stringValue="text/plain; charset=utf-8"/&gt;
                                        &lt;L7p:DataType variableDataType="message"/&gt;
                                        &lt;L7p:VariableToSet stringValue="addrMessage"/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:CacheStorage&gt;
                                        &lt;L7p:CacheEntryKey stringValue="${serviceName.current}"/&gt;
                                        &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                                        &lt;L7p:MaxEntries stringValue="1000"/&gt;
                                        &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                                        &lt;L7p:MaxEntrySizeBytes stringValue="1000000"/&gt;
                                        &lt;L7p:OtherTargetMessageVariable stringValue="addrMessage"/&gt;
                                        &lt;L7p:Target target="OTHER"/&gt;
                                    &lt;/L7p:CacheStorage&gt;
                                &lt;/wsp:All&gt;
                                &lt;wsp:All wsp:Usage="Required"&gt;
                                    &lt;L7p:CacheLookup&gt;
                                        &lt;L7p:CacheEntryKey stringValue="${serviceName.current}"/&gt;
                                        &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                                        &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                                        &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                                        &lt;L7p:OtherTargetMessageVariable stringValue="serviceName.available"/&gt;
                                        &lt;L7p:Target target="OTHER"/&gt;
                                    &lt;/L7p:CacheLookup&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                        &lt;L7p:Detail stringValueReference="inline"&gt;&lt;![CDATA[After Saving
Service name : ${serviceName.current}
Addresses from Cache after storing : ${serviceName.available.mainpart}]]&gt;&lt;/L7p:Detail&gt;
                                        &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                &lt;/wsp:All&gt;
                            &lt;/wsp:All&gt;
                            &lt;wsp:All wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${serviceName.current}"/&gt;
                                    &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                                    &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                                    &lt;L7p:Operator operatorNull="null"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item dataType="included"&gt;
                                            &lt;L7p:Type variableDataType="string"/&gt;
                                        &lt;/L7p:item&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:Operator operator="EMPTY"/&gt;
                                            &lt;L7p:RightValue stringValue=""/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                            &lt;/wsp:All&gt;
                        &lt;/wsp:OneOrMore&gt;
                    &lt;/L7p:ForEachLoop&gt;
                &lt;/wsp:All&gt;
                &lt;wsp:All wsp:Usage="Required"&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                        &lt;L7p:Detail stringValue="No services found under node - ${node.current}"/&gt;
                        &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                &lt;/wsp:All&gt;
            &lt;/wsp:OneOrMore&gt;
        &lt;/L7p:ForEachLoop&gt;
        &lt;L7p:FaultLevel&gt;
            &lt;L7p:LevelInfo soapFaultLevel="included"&gt;
                &lt;L7p:Level intValue="4"/&gt;
            &lt;/L7p:LevelInfo&gt;
        &lt;/L7p:FaultLevel&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="T2s="/&gt;
            &lt;L7p:ResponseContentType stringValue="text/plain; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/Consul - Dynamic Route with Service</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b432f</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="1d2b2e5c-c1a2-47d0-8958-e81d09407c7d" id="e5fa8dd4a897fdbdafa8327bde4b432f">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="1d2b2e5c-c1a2-47d0-8958-e81d09407c7d" id="e5fa8dd4a897fdbdafa8327bde4b432f">
                        <l7:Name>Consul - Dynamic Route with Service</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Dynamic Route with Service"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Dynamic Service Route"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtlbmRQb2ludENhbGxpbmd9"/&gt;
                    &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:Regex&gt;
                    &lt;L7p:AutoTarget booleanValue="false"/&gt;
                    &lt;L7p:CaseInsensitive booleanValue="true"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="param.uri"/&gt;
                    &lt;L7p:PatternContainsVariables booleanValue="true"/&gt;
                    &lt;L7p:Regex stringValue="/${endPointCalling}"/&gt;
                    &lt;L7p:RegexName stringValue="process uri"/&gt;
                    &lt;L7p:Replace booleanValue="true"/&gt;
                    &lt;L7p:Replacement stringValue="/"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:Expression1 stringValue="${param.uri}"/&gt;
                    &lt;L7p:Expression2 stringValue="/"/&gt;
                    &lt;L7p:Negate booleanValue="true"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:RightValue stringValue="/"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:Expression1 stringValue="${param.uri}"/&gt;
                            &lt;L7p:Expression2 stringValue="[]"/&gt;
                            &lt;L7p:Operator operator="NE"/&gt;
                            &lt;L7p:Predicates predicates="included"&gt;
                                &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:Operator operator="NE"/&gt;
                                    &lt;L7p:RightValue stringValue="[]"/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:Split&gt;
                            &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                            &lt;L7p:InputVariable stringValue="param.uri"/&gt;
                            &lt;L7p:OutputVariable stringValue="uriSplit"/&gt;
                            &lt;L7p:SplitPattern stringValue="/"/&gt;
                        &lt;/L7p:Split&gt;
                        &lt;L7p:CacheLookup&gt;
                            &lt;L7p:CacheEntryKey stringValue="${uriSplit[0]}"/&gt;
                            &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                            &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                            &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                            &lt;L7p:OtherTargetMessageVariable stringValue="serviceAddress"/&gt;
                            &lt;L7p:Target target="OTHER"/&gt;
                        &lt;/L7p:CacheLookup&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="JHtzZXJ2aWNlQWRkcmVzcy5tYWlucGFydH0="/&gt;
                            &lt;L7p:VariableToSet stringValue="hostAddress"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:Split&gt;
                            &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                            &lt;L7p:InputVariable stringValue="hostAddress"/&gt;
                            &lt;L7p:OutputVariable stringValue="hostDetails"/&gt;
                        &lt;/L7p:Split&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue=""/&gt;
                            &lt;L7p:VariableToSet stringValue="hosturl"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:ForEachLoop L7p:Usage="Required" loopVariable="hostDetails" variablePrefix="url"&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHtob3N0dXJsfSR7cmVxdWVzdC51cmwucHJvdG9jb2x9Oi8vJHt1cmwuY3VycmVudH06JHtyZXF1ZXN0LnVybC5wb3J0fSR7cGFyYW0udXJpfSR7cmVxdWVzdC51cmwucXVlcnl9LA=="/&gt;
                                &lt;L7p:VariableToSet stringValue="hosturl"/&gt;
                            &lt;/L7p:SetVariable&gt;
                        &lt;/L7p:ForEachLoop&gt;
                        &lt;L7p:Split&gt;
                            &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                            &lt;L7p:InputVariable stringValue="hosturl"/&gt;
                            &lt;L7p:OutputVariable stringValue="routeList"/&gt;
                        &lt;/L7p:Split&gt;
                        &lt;L7p:CreateRoutingStrategy&gt;
                            &lt;L7p:Routes routes="included"&gt;
                                &lt;L7p:item route="included"&gt;
                                    &lt;L7p:Name stringValue="${routeList}"/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Routes&gt;
                            &lt;L7p:StrategyDescription stringValue="Round-Robin"/&gt;
                            &lt;L7p:StrategyName stringValue="robin"/&gt;
                        &lt;/L7p:CreateRoutingStrategy&gt;
                        &lt;L7p:ForEachLoop L7p:Usage="Required" loopVariable="strategy.routeList" variablePrefix="route"&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="MA=="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.status"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:ExecuteRoutingStrategy/&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:ConnectionTimeout stringValue="3000"/&gt;
                                    &lt;L7p:ProtectedServiceUrl stringValue="${route}"/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="Cookie"/&gt;
                                            &lt;/L7p:item&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                                            &lt;/L7p:item&gt;
                                        &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;
                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                                    &lt;/L7p:RequestParamRules&gt;
                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                                            &lt;/L7p:item&gt;
                                        &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;
                                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                                    &lt;L7p:Timeout stringValue="6000"/&gt;
                                &lt;/L7p:HttpRoutingAssertion&gt;
                                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue="LTE="/&gt;
                                    &lt;L7p:DataType variableDataType="int"/&gt;
                                    &lt;L7p:VariableToSet stringValue="feedback.current.status"/&gt;
                                &lt;/L7p:SetVariable&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHthc3NlcnRpb24ubGF0ZW5jeS5tc30="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.latency"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHtodHRwcm91dGluZy5yZWFzb25Db2RlfQ=="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.reasoncode"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${feedback.current.status}"/&gt;
                                    &lt;L7p:Operator operatorNull="null"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item dataType="included"&gt;
                                            &lt;L7p:Type variableDataType="int"/&gt;
                                        &lt;/L7p:item&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:Negated booleanValue="true"/&gt;
                                            &lt;L7p:Operator operator="EMPTY"/&gt;
                                            &lt;L7p:RightValue stringValue=""/&gt;
                                        &lt;/L7p:item&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:RightValue stringValue="-1"/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue="dHJ1ZQ=="/&gt;
                                    &lt;L7p:VariableToSet stringValue="routeList.break"/&gt;
                                &lt;/L7p:SetVariable&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:ProcessRoutingStrategyResult/&gt;
                        &lt;/L7p:ForEachLoop&gt;
                    &lt;/wsp:All&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:CustomizeErrorResponse&gt;
                            &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Service not found - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                            &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                            &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                                &lt;L7p:item nameValuePair="included"&gt;
                                    &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                                    &lt;L7p:Value stringValue="Request Failer"/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:ExtraHeaders&gt;
                        &lt;/L7p:CustomizeErrorResponse&gt;
                        &lt;L7p:RaiseError/&gt;
                    &lt;/wsp:All&gt;
                &lt;/wsp:OneOrMore&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Insufficient Information - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/Consul - GET Key</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4359</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="41db2cd6-34e9-4680-ace9-4cbdf291bc39" id="e5fa8dd4a897fdbdafa8327bde4b4359">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="41db2cd6-34e9-4680-ace9-4cbdf291bc39" id="e5fa8dd4a897fdbdafa8327bde4b4359">
                        <l7:Name>Consul - GET Key</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - GET Key"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtlbmRQb2ludENhbGxpbmd9"/&gt;
                    &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:Regex&gt;
                    &lt;L7p:AutoTarget booleanValue="false"/&gt;
                    &lt;L7p:CaseInsensitive booleanValue="true"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="param.uri"/&gt;
                    &lt;L7p:PatternContainsVariables booleanValue="true"/&gt;
                    &lt;L7p:Regex stringValue="/${endPointCalling}"/&gt;
                    &lt;L7p:RegexName stringValue="process uri"/&gt;
                    &lt;L7p:Replace booleanValue="true"/&gt;
                    &lt;L7p:Replacement stringValue="/"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/kv${param.uri}"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:All wsp:Usage="Required"&gt;
            &lt;L7p:EvaluateJsonPathExpression&gt;
                &lt;L7p:Expression stringValue="[0].Key"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="key"/&gt;
            &lt;/L7p:EvaluateJsonPathExpression&gt;
            &lt;L7p:EvaluateJsonPathExpression&gt;
                &lt;L7p:Expression stringValue="[0].Value"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="value"/&gt;
            &lt;/L7p:EvaluateJsonPathExpression&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="JHt2YWx1ZS5yZXN1bHRzWzBdfQ=="/&gt;
                &lt;L7p:ContentType stringValue="application/json; charset=utf-8"/&gt;
                &lt;L7p:DataType variableDataType="message"/&gt;
                &lt;L7p:VariableToSet stringValue="output"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:EncodeDecode&gt;
                &lt;L7p:CharacterEncoding stringValueNull="null"/&gt;
                &lt;L7p:SourceVariableName stringValue="output"/&gt;
                &lt;L7p:TargetContentType stringValue="application/json; charset=utf-8"/&gt;
                &lt;L7p:TargetDataType variableDataType="message"/&gt;
                &lt;L7p:TargetVariableName stringValue="output"/&gt;
                &lt;L7p:TransformType transformType="BASE64_DECODE"/&gt;
            &lt;/L7p:EncodeDecode&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="PREPARE RESPONSE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// Retrieve data from consul and prepare the response"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:All&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="JHtvdXRwdXQubWFpbnBhcnR9Cgo="/&gt;
            &lt;L7p:Enabled booleanValue="false"/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/EncDecJWT</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b435f</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="e5374a1d-a1de-4728-bb2b-01d6cea26bf8" id="e5fa8dd4a897fdbdafa8327bde4b435f">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="e5374a1d-a1de-4728-bb2b-01d6cea26bf8" id="e5fa8dd4a897fdbdafa8327bde4b435f">
                        <l7:Name>EncDecJWT</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: EncDecJWT"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Encode or Decode JWT"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="This policy gets updated to always refer to the current private key"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="This policy strictly handles RS256-based algorithms"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment="included"&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// initialize"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=""/&gt;
            &lt;L7p:VariableToSet stringValue="error.code"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${jwt.payload}"/&gt;
                    &lt;L7p:Expression2 stringValue=""/&gt;
                    &lt;L7p:Negate booleanValue="true"/&gt;
                    &lt;L7p:Operator operator="EMPTY"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:Operator operator="EMPTY"/&gt;
                            &lt;L7p:RightValue stringValue=""/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${jwt}"/&gt;
                    &lt;L7p:Expression2 stringValue=""/&gt;
                    &lt;L7p:Operator operator="EMPTY"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                            &lt;L7p:Operator operator="EMPTY"/&gt;
                            &lt;L7p:RightValue stringValue=""/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:AssertionComment assertionComment="included"&gt;
                        &lt;L7p:Properties mapValue="included"&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="// initialize"/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:AssertionComment&gt;
                    &lt;L7p:Base64Expression stringValue="Y3JlYXRl"/&gt;
                    &lt;L7p:VariableToSet stringValue="action"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// set 'create'"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${jwt}"/&gt;
                    &lt;L7p:Expression2 stringValue=""/&gt;
                    &lt;L7p:Negate booleanValue="true"/&gt;
                    &lt;L7p:Operator operator="EMPTY"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:Operator operator="EMPTY"/&gt;
                            &lt;L7p:RightValue stringValue=""/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${jwt.payload}"/&gt;
                    &lt;L7p:Expression2 stringValue=""/&gt;
                    &lt;L7p:Operator operator="EMPTY"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                            &lt;L7p:Operator operator="EMPTY"/&gt;
                            &lt;L7p:RightValue stringValue=""/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:AssertionComment assertionComment="included"&gt;
                        &lt;L7p:Properties mapValue="included"&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="// initialize"/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:AssertionComment&gt;
                    &lt;L7p:Base64Expression stringValue="dmFsaWRhdGU="/&gt;
                    &lt;L7p:VariableToSet stringValue="action"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// set 'validate'"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:Detail stringValue="User couldn't decide to validate or create the JWT"/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:AssertionComment assertionComment="included"&gt;
                        &lt;L7p:Properties mapValue="included"&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="// initialize"/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:AssertionComment&gt;
                    &lt;L7p:Base64Expression stringValue="MTAz"/&gt;
                    &lt;L7p:VariableToSet stringValue="error.code"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:FalseAssertion/&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// error"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// action"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${action}"/&gt;
                    &lt;L7p:Expression2 stringValue="create"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                            &lt;L7p:RightValue stringValue="create"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:EncodeJsonWebToken&gt;
                            &lt;L7p:AssertionComment assertionComment="included"&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                        &lt;L7p:value stringValue="// signs using the default ssl key"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:HeaderAction stringValue="Merge to Generated Header"/&gt;
                            &lt;L7p:KeyGoid goidValue="0000000000000000ffffffffffffffff"/&gt;
                            &lt;L7p:SignPayload booleanValue="true"/&gt;
                            &lt;L7p:SignatureAlgorithm stringValue="RS256"/&gt;
                            &lt;L7p:SignatureSourceType intValue="1"/&gt;
                            &lt;L7p:SourceHeaders stringValue="{&amp;quot;kid&amp;quot; : &amp;quot;${gateway.cluster.hostname}&amp;quot;}"/&gt;
                            &lt;L7p:SourceVariable stringValue="${jwt.payload}"/&gt;
                            &lt;L7p:TargetVariable stringValue="jwt"/&gt;
                        &lt;/L7p:EncodeJsonWebToken&gt;
                        &lt;L7p:Regex&gt;
                            &lt;L7p:AutoTarget booleanValue="false"/&gt;
                            &lt;L7p:CaptureVar stringValue="jwt.header"/&gt;
                            &lt;L7p:OtherTargetMessageVariable stringValue="jwt.compact"/&gt;
                            &lt;L7p:Regex stringValue="^([^.]+)"/&gt;
                            &lt;L7p:Replacement stringValue=""/&gt;
                            &lt;L7p:Target target="OTHER"/&gt;
                        &lt;/L7p:Regex&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:AssertionComment assertionComment="included"&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                        &lt;L7p:value stringValue="// initialize"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:Base64Expression stringValue="JHtqd3QuY29tcGFjdH0="/&gt;
                            &lt;L7p:VariableToSet stringValue="jwt"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:AssertionComment assertionComment="included"&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                        &lt;L7p:value stringValue="// initialize"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:Base64Expression stringValue="JHtqd3QuaGVhZGVyWzFdfQ=="/&gt;
                            &lt;L7p:VariableToSet stringValue="jwt.header"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:EncodeDecode&gt;
                            &lt;L7p:SourceVariableName stringValue="jwt.header"/&gt;
                            &lt;L7p:TargetDataType variableDataType="string"/&gt;
                            &lt;L7p:TargetVariableName stringValue="jwt.header"/&gt;
                            &lt;L7p:TransformType transformType="BASE64_DECODE"/&gt;
                        &lt;/L7p:EncodeDecode&gt;
                        &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue="included"&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="// success"/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:All&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:AuditDetailAssertion&gt;
                            &lt;L7p:Detail stringValue="The JWT could not be created. Payload: '${jwt.payload}'"/&gt;
                        &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:AssertionComment assertionComment="included"&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                        &lt;L7p:value stringValue="// initialize"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:Base64Expression stringValue="MTIy"/&gt;
                            &lt;L7p:VariableToSet stringValue="error.code"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:FalseAssertion/&gt;
                        &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue="included"&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="// error"/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:All&gt;
                    &lt;L7p:assertionComment&gt;
                        &lt;L7p:Properties mapValue="included"&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="// create JWT"/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                &lt;/wsp:OneOrMore&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// create"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${action}"/&gt;
                    &lt;L7p:Expression2 stringValue="validate"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                            &lt;L7p:RightValue stringValue="validate"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;wsp:All wsp:Usage="Required"&gt;
                            &lt;L7p:Regex&gt;
                                &lt;L7p:AutoTarget booleanValue="false"/&gt;
                                &lt;L7p:CaptureVar stringValue="jwt.payload.b64"/&gt;
                                &lt;L7p:IncludeEntireExpressionCapture booleanValue="false"/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue="jwt"/&gt;
                                &lt;L7p:Regex stringValue=".[.]([^.]+)[.]"/&gt;
                                &lt;L7p:RegexName stringValue="extract payload from JWT"/&gt;
                                &lt;L7p:Replacement stringValue=""/&gt;
                                &lt;L7p:Target target="OTHER"/&gt;
                            &lt;/L7p:Regex&gt;
                            &lt;L7p:Regex&gt;
                                &lt;L7p:AutoTarget booleanValue="false"/&gt;
                                &lt;L7p:CaptureVar stringValue="jwt.header.b64"/&gt;
                                &lt;L7p:IncludeEntireExpressionCapture booleanValue="false"/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue="jwt"/&gt;
                                &lt;L7p:Regex stringValue="^([^.]+)"/&gt;
                                &lt;L7p:RegexName stringValue="extract header from JWT"/&gt;
                                &lt;L7p:Replacement stringValue=""/&gt;
                                &lt;L7p:Target target="OTHER"/&gt;
                            &lt;/L7p:Regex&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:AssertionComment assertionComment="included"&gt;
                                    &lt;L7p:Properties mapValue="included"&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="// initialize"/&gt;
                                        &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:Base64Expression stringValue="JHtqd3QucGF5bG9hZC5iNjR9"/&gt;
                                &lt;L7p:VariableToSet stringValue="jwt.payload"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:AssertionComment assertionComment="included"&gt;
                                    &lt;L7p:Properties mapValue="included"&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="// initialize"/&gt;
                                        &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:Base64Expression stringValue="JHtqd3QuaGVhZGVyLmI2NH0="/&gt;
                                &lt;L7p:VariableToSet stringValue="jwt.header"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:EncodeDecode&gt;
                                &lt;L7p:CharacterEncoding stringValueNull="null"/&gt;
                                &lt;L7p:SourceVariableName stringValue="jwt.payload"/&gt;
                                &lt;L7p:TargetContentType stringValue="application/json; charset=utf-8"/&gt;
                                &lt;L7p:TargetDataType variableDataType="message"/&gt;
                                &lt;L7p:TargetVariableName stringValue="jwt.payload"/&gt;
                                &lt;L7p:TransformType transformType="BASE64_DECODE"/&gt;
                            &lt;/L7p:EncodeDecode&gt;
                            &lt;L7p:EncodeDecode&gt;
                                &lt;L7p:CharacterEncoding stringValueNull="null"/&gt;
                                &lt;L7p:SourceVariableName stringValue="jwt.header"/&gt;
                                &lt;L7p:TargetContentType stringValue="application/json; charset=utf-8"/&gt;
                                &lt;L7p:TargetDataType variableDataType="message"/&gt;
                                &lt;L7p:TargetVariableName stringValue="jwt.header"/&gt;
                                &lt;L7p:TransformType transformType="BASE64_DECODE"/&gt;
                            &lt;/L7p:EncodeDecode&gt;
                            &lt;L7p:EvaluateJsonPathExpression&gt;
                                &lt;L7p:Expression stringValue="iss"/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue="jwt.payload"/&gt;
                                &lt;L7p:Target target="OTHER"/&gt;
                                &lt;L7p:VariablePrefix stringValue="jwt.iss"/&gt;
                            &lt;/L7p:EvaluateJsonPathExpression&gt;
                            &lt;L7p:EvaluateJsonPathExpression&gt;
                                &lt;L7p:Expression stringValue="kid"/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue="jwt.header"/&gt;
                                &lt;L7p:Target target="OTHER"/&gt;
                                &lt;L7p:VariablePrefix stringValue="jwt.kid"/&gt;
                            &lt;/L7p:EvaluateJsonPathExpression&gt;
                            &lt;L7p:EvaluateJsonPathExpression&gt;
                                &lt;L7p:Expression stringValue="alg"/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue="jwt.header"/&gt;
                                &lt;L7p:Target target="OTHER"/&gt;
                                &lt;L7p:VariablePrefix stringValue="jwt.alg"/&gt;
                            &lt;/L7p:EvaluateJsonPathExpression&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:AssertionComment assertionComment="included"&gt;
                                    &lt;L7p:Properties mapValue="included"&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="// initialize"/&gt;
                                        &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:Base64Expression stringValue="JHtqd3QuaXNzLnJlc3VsdH0="/&gt;
                                &lt;L7p:VariableToSet stringValue="iss"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:AssertionComment assertionComment="included"&gt;
                                    &lt;L7p:Properties mapValue="included"&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="// initialize"/&gt;
                                        &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:Base64Expression stringValue="JHtqd3Qua2lkLnJlc3VsdH0="/&gt;
                                &lt;L7p:VariableToSet stringValue="kid"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:AssertionComment assertionComment="included"&gt;
                                    &lt;L7p:Properties mapValue="included"&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="// initialize"/&gt;
                                        &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:Base64Expression stringValue="JHtqd3QuYWxnLnJlc3VsdH0="/&gt;
                                &lt;L7p:VariableToSet stringValue="alg"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${alg}"/&gt;
                                    &lt;L7p:Expression2 stringValue="${alg_sender}"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:RightValue stringValue="${alg_sender}"/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment="included"&gt;
                                        &lt;L7p:Properties mapValue="included"&gt;
                                            &lt;L7p:entry&gt;
                                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                                &lt;L7p:value stringValue="// default"/&gt;
                                            &lt;/L7p:entry&gt;
                                        &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${alg}"/&gt;
                                    &lt;L7p:Expression2 stringValue="RS256"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:RightValue stringValue="RS256"/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue="included"&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="// check for valid algorithm"/&gt;
                                        &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${iss_sender}"/&gt;
                                    &lt;L7p:Expression2 stringValue=""/&gt;
                                    &lt;L7p:Operator operator="EMPTY"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:Operator operator="EMPTY"/&gt;
                                            &lt;L7p:RightValue stringValue=""/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment="included"&gt;
                                        &lt;L7p:Properties mapValue="included"&gt;
                                            &lt;L7p:entry&gt;
                                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                                &lt;L7p:value stringValue="// default"/&gt;
                                            &lt;/L7p:entry&gt;
                                        &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${iss}"/&gt;
                                    &lt;L7p:Expression2 stringValue="${iss_sender}"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:RightValue stringValue="${iss_sender}"/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue="included"&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="// check for valid issuer"/&gt;
                                        &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                        &lt;L7p:value stringValue="// Extract the Key ID (kid) and issuer (ISS) from the JWT"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage="Required"&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=""/&gt;
                                &lt;L7p:ContentType stringValue="text/plain; charset=UTF-8"/&gt;
                                &lt;L7p:DataType variableDataType="message"/&gt;
                                &lt;L7p:VariableToSet stringValue="emptyMessage"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:HttpRoutingAssertion&gt;
                                &lt;L7p:AssertionComment assertionComment="included"&gt;
                                    &lt;L7p:Properties mapValue="included"&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="no-fail"/&gt;
                                        &lt;/L7p:entry&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="always succeed"/&gt;
                                        &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:CurrentSecurityHeaderHandling intValue="3"/&gt;
                                &lt;L7p:FailOnErrorStatus booleanValue="false"/&gt;
                                &lt;L7p:HttpMethod httpMethod="GET"/&gt;
                                &lt;L7p:PassThroughSoapFaults booleanValue="false"/&gt;
                                &lt;L7p:ProtectedServiceUrl stringValue="${iss}/.well-known/openid-configuration"/&gt;
                                &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                                &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                                &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                                &lt;/L7p:RequestHeaderRules&gt;
                                &lt;L7p:RequestMsgSrc stringValue="emptyMessage"/&gt;
                                &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                                &lt;/L7p:RequestParamRules&gt;
                                &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                        &lt;L7p:item httpPassthroughRule="included"&gt;
                                            &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                &lt;/L7p:ResponseHeaderRules&gt;
                                &lt;L7p:ResponseMsgDest stringValue="resp"/&gt;
                                &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                            &lt;/L7p:HttpRoutingAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHtyZXNwLmh0dHAuaGVhZGVyLngtY2EtZXJyfQ=="/&gt;
                                &lt;L7p:VariableToSet stringValue="error.code"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${httpRouting.reasonCode}"/&gt;
                                    &lt;L7p:Expression2 stringValue="500"/&gt;
                                    &lt;L7p:Operator operator="LT"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:Operator operator="LT"/&gt;
                                            &lt;L7p:RightValue stringValue="500"/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${error.code}"/&gt;
                                    &lt;L7p:Expression2 stringValue=""/&gt;
                                    &lt;L7p:Negate booleanValue="true"/&gt;
                                    &lt;L7p:Operator operator="EMPTY"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:Negated booleanValue="true"/&gt;
                                            &lt;L7p:Operator operator="EMPTY"/&gt;
                                            &lt;L7p:RightValue stringValue=""/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;wsp:All wsp:Usage="Required"&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                        &lt;L7p:Detail stringValue="routing failed!"/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                        &lt;L7p:AssertionComment assertionComment="included"&gt;
                                            &lt;L7p:Properties mapValue="included"&gt;
                                                &lt;L7p:entry&gt;
                                                    &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                                    &lt;L7p:value stringValue="error code"/&gt;
                                                &lt;/L7p:entry&gt;
                                                &lt;L7p:entry&gt;
                                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                                    &lt;L7p:value stringValue="set error code to 000"/&gt;
                                                &lt;/L7p:entry&gt;
                                            &lt;/L7p:Properties&gt;
                                        &lt;/L7p:AssertionComment&gt;
                                        &lt;L7p:Base64Expression stringValue="MDAw"/&gt;
                                        &lt;L7p:VariableToSet stringValue="error.code"/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:FalseAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                        &lt;L7p:Properties mapValue="included"&gt;
                                            &lt;L7p:entry&gt;
                                                &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                                &lt;L7p:value stringValue="error"/&gt;
                                            &lt;/L7p:entry&gt;
                                        &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue="included"&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="routing errors"/&gt;
                                        &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${error.code}"/&gt;
                                    &lt;L7p:Expression2 stringValue=""/&gt;
                                    &lt;L7p:Operator operator="EMPTY"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:Operator operator="EMPTY"/&gt;
                                            &lt;L7p:RightValue stringValue=""/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;wsp:All wsp:Usage="Required"&gt;
                                    &lt;L7p:Regex&gt;
                                        &lt;L7p:AssertionComment assertionComment="included"&gt;
                                            &lt;L7p:Properties mapValue="included"&gt;
                                                &lt;L7p:entry&gt;
                                                    &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                                    &lt;L7p:value stringValue="capture"/&gt;
                                                &lt;/L7p:entry&gt;
                                                &lt;L7p:entry&gt;
                                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                                    &lt;L7p:value stringValue="capture the last 3 digits"/&gt;
                                                &lt;/L7p:entry&gt;
                                            &lt;/L7p:Properties&gt;
                                        &lt;/L7p:AssertionComment&gt;
                                        &lt;L7p:AutoTarget booleanValue="false"/&gt;
                                        &lt;L7p:OtherTargetMessageVariable stringValue="error.code"/&gt;
                                        &lt;L7p:Regex stringValue="(\d{0,16})(\d{3})$"/&gt;
                                        &lt;L7p:Replace booleanValue="true"/&gt;
                                        &lt;L7p:Replacement stringValue="$2"/&gt;
                                        &lt;L7p:Target target="OTHER"/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:FalseAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                        &lt;L7p:Properties mapValue="included"&gt;
                                            &lt;L7p:entry&gt;
                                                &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                                &lt;L7p:value stringValue="error"/&gt;
                                            &lt;/L7p:entry&gt;
                                        &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue="included"&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="error code"/&gt;
                                        &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:EvaluateJsonPathExpression&gt;
                                &lt;L7p:Expression stringValue="jwks_uri"/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue="resp"/&gt;
                                &lt;L7p:Target target="OTHER"/&gt;
                                &lt;L7p:VariablePrefix stringValue="iss.jwks_uri"/&gt;
                            &lt;/L7p:EvaluateJsonPathExpression&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHtpc3Muandrc191cmkucmVzdWx0fQ=="/&gt;
                                &lt;L7p:VariableToSet stringValue="iss.jwks_uri"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                        &lt;L7p:value stringValue="// Download /.well-known to find the JWKS endpoint"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage="Required"&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=""/&gt;
                                &lt;L7p:ContentType stringValue="text/plain; charset=UTF-8"/&gt;
                                &lt;L7p:DataType variableDataType="message"/&gt;
                                &lt;L7p:VariableToSet stringValue="emptyMessage"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:HttpRoutingAssertion&gt;
                                &lt;L7p:AssertionComment assertionComment="included"&gt;
                                    &lt;L7p:Properties mapValue="included"&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="no-fail"/&gt;
                                        &lt;/L7p:entry&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="always succeed"/&gt;
                                        &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:CurrentSecurityHeaderHandling intValue="3"/&gt;
                                &lt;L7p:FailOnErrorStatus booleanValue="false"/&gt;
                                &lt;L7p:HttpMethod httpMethod="GET"/&gt;
                                &lt;L7p:PassThroughSoapFaults booleanValue="false"/&gt;
                                &lt;L7p:ProtectedServiceUrl stringValue="${iss.jwks_uri}"/&gt;
                                &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                                &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                                &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                                &lt;/L7p:RequestHeaderRules&gt;
                                &lt;L7p:RequestMsgSrc stringValue="emptyMessage"/&gt;
                                &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                                &lt;/L7p:RequestParamRules&gt;
                                &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                        &lt;L7p:item httpPassthroughRule="included"&gt;
                                            &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                &lt;/L7p:ResponseHeaderRules&gt;
                                &lt;L7p:ResponseMsgDest stringValue="resp"/&gt;
                                &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                            &lt;/L7p:HttpRoutingAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHtyZXNwLmh0dHAuaGVhZGVyLngtY2EtZXJyfQ=="/&gt;
                                &lt;L7p:VariableToSet stringValue="error.code"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${httpRouting.reasonCode}"/&gt;
                                    &lt;L7p:Expression2 stringValue="500"/&gt;
                                    &lt;L7p:Operator operator="LT"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:Operator operator="LT"/&gt;
                                            &lt;L7p:RightValue stringValue="500"/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${error.code}"/&gt;
                                    &lt;L7p:Expression2 stringValue=""/&gt;
                                    &lt;L7p:Negate booleanValue="true"/&gt;
                                    &lt;L7p:Operator operator="EMPTY"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:Negated booleanValue="true"/&gt;
                                            &lt;L7p:Operator operator="EMPTY"/&gt;
                                            &lt;L7p:RightValue stringValue=""/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;wsp:All wsp:Usage="Required"&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                        &lt;L7p:Detail stringValue="routing failed!"/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                        &lt;L7p:AssertionComment assertionComment="included"&gt;
                                            &lt;L7p:Properties mapValue="included"&gt;
                                                &lt;L7p:entry&gt;
                                                    &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                                    &lt;L7p:value stringValue="error code"/&gt;
                                                &lt;/L7p:entry&gt;
                                                &lt;L7p:entry&gt;
                                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                                    &lt;L7p:value stringValue="set error code to 000"/&gt;
                                                &lt;/L7p:entry&gt;
                                            &lt;/L7p:Properties&gt;
                                        &lt;/L7p:AssertionComment&gt;
                                        &lt;L7p:Base64Expression stringValue="MDAw"/&gt;
                                        &lt;L7p:VariableToSet stringValue="error.code"/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:FalseAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                        &lt;L7p:Properties mapValue="included"&gt;
                                            &lt;L7p:entry&gt;
                                                &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                                &lt;L7p:value stringValue="error"/&gt;
                                            &lt;/L7p:entry&gt;
                                        &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue="included"&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="routing errors"/&gt;
                                        &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${error.code}"/&gt;
                                    &lt;L7p:Expression2 stringValue=""/&gt;
                                    &lt;L7p:Operator operator="EMPTY"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:Operator operator="EMPTY"/&gt;
                                            &lt;L7p:RightValue stringValue=""/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;wsp:All wsp:Usage="Required"&gt;
                                    &lt;L7p:Regex&gt;
                                        &lt;L7p:AssertionComment assertionComment="included"&gt;
                                            &lt;L7p:Properties mapValue="included"&gt;
                                                &lt;L7p:entry&gt;
                                                    &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                                    &lt;L7p:value stringValue="capture"/&gt;
                                                &lt;/L7p:entry&gt;
                                                &lt;L7p:entry&gt;
                                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                                    &lt;L7p:value stringValue="capture the last 3 digits"/&gt;
                                                &lt;/L7p:entry&gt;
                                            &lt;/L7p:Properties&gt;
                                        &lt;/L7p:AssertionComment&gt;
                                        &lt;L7p:AutoTarget booleanValue="false"/&gt;
                                        &lt;L7p:OtherTargetMessageVariable stringValue="error.code"/&gt;
                                        &lt;L7p:Regex stringValue="(\d{0,16})(\d{3})$"/&gt;
                                        &lt;L7p:Replace booleanValue="true"/&gt;
                                        &lt;L7p:Replacement stringValue="$2"/&gt;
                                        &lt;L7p:Target target="OTHER"/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:FalseAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                        &lt;L7p:Properties mapValue="included"&gt;
                                            &lt;L7p:entry&gt;
                                                &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                                &lt;L7p:value stringValue="error"/&gt;
                                            &lt;/L7p:entry&gt;
                                        &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue="included"&gt;
                                        &lt;L7p:entry&gt;
                                            &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                            &lt;L7p:value stringValue="error code"/&gt;
                                        &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                        &lt;L7p:value stringValue="// Download jwk from /jwks.json"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage="Required"&gt;
                            &lt;L7p:DecodeJsonWebToken&gt;
                                &lt;L7p:FailUnverifiedSignature booleanValue="true"/&gt;
                                &lt;L7p:KeyId stringValue="${kid}"/&gt;
                                &lt;L7p:KeyType stringValue="JSON Web Key Set"/&gt;
                                &lt;L7p:PrivateKeySource stringValue="${resp.mainpart}"/&gt;
                                &lt;L7p:SourcePayload stringValue="${jwt}"/&gt;
                                &lt;L7p:TargetVariablePrefix stringValue="jwt"/&gt;
                                &lt;L7p:ValidationType stringValue="Using Recipient Key From Context Variable"/&gt;
                            &lt;/L7p:DecodeJsonWebToken&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                &lt;L7p:Expression1 stringValue="${jwt.valid}"/&gt;
                                &lt;L7p:Expression2 stringValue="true"/&gt;
                                &lt;L7p:Predicates predicates="included"&gt;
                                    &lt;L7p:item binary="included"&gt;
                                        &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                        &lt;L7p:RightValue stringValue="true"/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                        &lt;L7p:value stringValue="// Validate the JWT"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue="included"&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="// multiple tasks"/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:All&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:AuditDetailAssertion&gt;
                            &lt;L7p:Detail stringValue="The JWT could not be validated. Found iss: '${iss}', required iss: '${iss_sender}', found alg: '${alg}', required alg: '${alg_sender}', payload: '${jwt}'"/&gt;
                        &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:AssertionComment assertionComment="included"&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                        &lt;L7p:value stringValue="// initialize"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:Base64Expression stringValue="MTIx"/&gt;
                            &lt;L7p:VariableToSet stringValue="error.code"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:FalseAssertion/&gt;
                        &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue="included"&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="// error"/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:All&gt;
                    &lt;L7p:assertionComment&gt;
                        &lt;L7p:Properties mapValue="included"&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="// validate JWT"/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                &lt;/wsp:OneOrMore&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// validate"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// either create or validate a JWT"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/Consul - Security</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b435d</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="87a7a9f5-e5b6-4421-9767-55861c4abe01" id="e5fa8dd4a897fdbdafa8327bde4b435d">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="87a7a9f5-e5b6-4421-9767-55861c4abe01" id="e5fa8dd4a897fdbdafa8327bde4b435d">
                        <l7:Name>Consul - Security</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Consul Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/kv/microsvc/security"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
                &lt;wsp:All wsp:Usage="Required"&gt;
                    &lt;L7p:EvaluateJsonPathExpression&gt;
                        &lt;L7p:Expression stringValue="[0].Key"/&gt;
                        &lt;L7p:Target target="RESPONSE"/&gt;
                        &lt;L7p:VariablePrefix stringValue="key"/&gt;
                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                    &lt;L7p:EvaluateJsonPathExpression&gt;
                        &lt;L7p:Expression stringValue="[0].Value"/&gt;
                        &lt;L7p:Target target="RESPONSE"/&gt;
                        &lt;L7p:VariablePrefix stringValue="value"/&gt;
                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                    &lt;L7p:SetVariable&gt;
                        &lt;L7p:Base64Expression stringValue="JHt2YWx1ZS5yZXN1bHRzWzBdfQ=="/&gt;
                        &lt;L7p:ContentType stringValue="application/json; charset=utf-8"/&gt;
                        &lt;L7p:DataType variableDataType="message"/&gt;
                        &lt;L7p:VariableToSet stringValue="output"/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:EncodeDecode&gt;
                        &lt;L7p:CharacterEncoding stringValueNull="null"/&gt;
                        &lt;L7p:SourceVariableName stringValue="output"/&gt;
                        &lt;L7p:TargetContentType stringValue="application/json; charset=utf-8"/&gt;
                        &lt;L7p:TargetDataType variableDataType="message"/&gt;
                        &lt;L7p:TargetVariableName stringValue="output"/&gt;
                        &lt;L7p:TransformType transformType="BASE64_DECODE"/&gt;
                    &lt;/L7p:EncodeDecode&gt;
                    &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                        &lt;L7p:Expression stringValue="Security"/&gt;
                        &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                        &lt;L7p:Target target="OTHER"/&gt;
                        &lt;L7p:VariablePrefix stringValue="security"/&gt;
                    &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                    &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                        &lt;L7p:Expression stringValue="JWTHeader"/&gt;
                        &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                        &lt;L7p:Target target="OTHER"/&gt;
                        &lt;L7p:VariablePrefix stringValue="jwtHeader"/&gt;
                    &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                    &lt;L7p:assertionComment&gt;
                        &lt;L7p:Properties mapValue="included"&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="PREPARE RESPONSE"/&gt;
                            &lt;/L7p:entry&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="// Retrieve data from consul and prepare the response"/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                &lt;/wsp:All&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${security.results}"/&gt;
                    &lt;L7p:Operator operatorNull="null"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item dataType="included"&gt;
                            &lt;L7p:Type variableDataType="string"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:RightValue stringValue="JWT"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="903a5c04-b77e-41a4-8ee7-04c730b96208"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="JWT-Validate"/&gt;
                &lt;/L7p:Encapsulated&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="JWT"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${security.results}"/&gt;
                    &lt;L7p:Operator operatorNull="null"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item dataType="included"&gt;
                            &lt;L7p:Type variableDataType="string"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:RightValue stringValue="BASIC"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:HttpBasic/&gt;
                &lt;L7p:Authentication&gt;
                    &lt;L7p:IdentityProviderOid goidValue="0000000000000000fffffffffffffffe"/&gt;
                &lt;/L7p:Authentication&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="BASIC AUTH"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Authentication Failed",
   "Descripton" : "User Authentication Failed - Please contact admin."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="AuthN Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                    &lt;L7p:IncludePolicyDownloadURL booleanValue="true"/&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="SECURITY"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// Various possible AutnN options"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/Consul - Apply RateLimit</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b432e</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="a0dd63fb-308e-4d55-9177-12da851968d3" id="e5fa8dd4a897fdbdafa8327bde4b432e">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="a0dd63fb-308e-4d55-9177-12da851968d3" id="e5fa8dd4a897fdbdafa8327bde4b432e">
                        <l7:Name>Consul - Apply RateLimit</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="LyR7ZG9tYWlufS9yYXRlbGltaXQ="/&gt;
                    &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/kv${param.uri}"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:All wsp:Usage="Required"&gt;
            &lt;L7p:EvaluateJsonPathExpression&gt;
                &lt;L7p:Expression stringValue="[0].Key"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="key"/&gt;
            &lt;/L7p:EvaluateJsonPathExpression&gt;
            &lt;L7p:EvaluateJsonPathExpression&gt;
                &lt;L7p:Expression stringValue="[0].Value"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="value"/&gt;
            &lt;/L7p:EvaluateJsonPathExpression&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="JHt2YWx1ZS5yZXN1bHRzWzBdfQ=="/&gt;
                &lt;L7p:ContentType stringValue="application/json; charset=utf-8"/&gt;
                &lt;L7p:DataType variableDataType="message"/&gt;
                &lt;L7p:VariableToSet stringValue="output"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:EncodeDecode&gt;
                &lt;L7p:CharacterEncoding stringValueNull="null"/&gt;
                &lt;L7p:SourceVariableName stringValue="output"/&gt;
                &lt;L7p:TargetContentType stringValue="application/json; charset=utf-8"/&gt;
                &lt;L7p:TargetDataType variableDataType="message"/&gt;
                &lt;L7p:TargetVariableName stringValue="output"/&gt;
                &lt;L7p:TransformType transformType="BASE64_DECODE"/&gt;
            &lt;/L7p:EncodeDecode&gt;
            &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;L7p:Expression stringValue="$.rateLimit"/&gt;
                &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                &lt;L7p:Target target="OTHER"/&gt;
                &lt;L7p:VariablePrefix stringValue="rateLimit"/&gt;
            &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
            &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;L7p:Expression stringValue="$.spreadLimit"/&gt;
                &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                &lt;L7p:Target target="OTHER"/&gt;
                &lt;L7p:VariablePrefix stringValue="spreadLimit"/&gt;
            &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="PREPARE RESPONSE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// Retrieve data from consul and prepare the response"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:All&gt;
        &lt;wsp:All wsp:Usage="Required"&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="JHtyYXRlTGltaXQucmVzdWx0c1swXX0="/&gt;
                &lt;L7p:VariableToSet stringValue="rateLimit"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="JHtzcHJlYWRMaW1pdC5yZXN1bHRzWzBdfQ=="/&gt;
                &lt;L7p:VariableToSet stringValue="spreadLimit"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="L2UzNWFjNjM0LSR7cmVxdWVzdC5jbGllbnRpZH0vcmF0ZWxpbWl0"/&gt;
                &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
            &lt;/L7p:SetVariable&gt;
        &lt;/wsp:All&gt;
        &lt;L7p:RateLimit&gt;
            &lt;L7p:CounterName stringValue="${customData}"/&gt;
            &lt;L7p:MaxRequestsPerSecond stringValue="${rateLimit}"/&gt;
            &lt;L7p:WindowSizeInSeconds stringValue="${spreadLimit}"/&gt;
        &lt;/L7p:RateLimit&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="eyJyYXRlTGltaXQiOiAiJHtyYXRlTGltaXR9Iiwic3ByZWFkTGltaXQiOiAiJHtzcHJlYWRMaW1pdH0iLCJjdXN0b21EYXRhIiA6ICIifQ=="/&gt;
            &lt;L7p:ContentType stringValue="text/xml; charset=utf-8"/&gt;
            &lt;L7p:DataType variableDataType="message"/&gt;
            &lt;L7p:Enabled booleanValue="false"/&gt;
            &lt;L7p:VariableToSet stringValue="response"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="eyJyYXRlTGltaXQiOiAiJHtyYXRlTGltaXR9Iiwic3ByZWFkTGltaXQiOiAiJHtzcHJlYWRMaW1pdH0iLCJjdXN0b21EYXRhIiA6ICIifQ=="/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/OTK2JWTHeader</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b432c</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="0e7606be-e579-4906-8baf-df2b445123ab" id="e5fa8dd4a897fdbdafa8327bde4b432c">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="0e7606be-e579-4906-8baf-df2b445123ab" id="e5fa8dd4a897fdbdafa8327bde4b432c">
                        <l7:Name>OTK2JWTHeader</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: OTK2JWTHeader"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: OAuth2JWTHeader"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:UUIDGenerator&gt;
            &lt;L7p:AssertionComment assertionComment="included"&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="Add JWT unique ID"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:MaximumQuantity intValue="1"/&gt;
            &lt;L7p:TargetVariable stringValue="jti"/&gt;
        &lt;/L7p:UUIDGenerator&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=""/&gt;
            &lt;L7p:DataType variableDataType="dateTime"/&gt;
            &lt;L7p:DateOffsetExpression stringValue=""/&gt;
            &lt;L7p:VariableToSet stringValue="jwt_created_at"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=""/&gt;
            &lt;L7p:DataType variableDataType="dateTime"/&gt;
            &lt;L7p:DateOffsetExpression stringValue="30"/&gt;
            &lt;L7p:VariableToSet stringValue="jwt_expires_at"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${gateway.cluster.hostname}"/&gt;
                    &lt;L7p:Operator operatorNull="null"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item dataType="included"&gt;
                            &lt;L7p:Type variableDataType="string"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:Operator operator="EMPTY"/&gt;
                            &lt;L7p:RightValue stringValue=""/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${gateway.clusterhost.ssl.port}"/&gt;
                    &lt;L7p:Operator operatorNull="null"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item dataType="included"&gt;
                            &lt;L7p:Type variableDataType="string"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:Operator operator="EMPTY"/&gt;
                            &lt;L7p:RightValue stringValue=""/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${jti}"/&gt;
                    &lt;L7p:Operator operatorNull="null"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item dataType="included"&gt;
                            &lt;L7p:Type variableDataType="string"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:Operator operator="EMPTY"/&gt;
                            &lt;L7p:RightValue stringValue=""/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${session.client_id}"/&gt;
                    &lt;L7p:Operator operatorNull="null"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item dataType="included"&gt;
                            &lt;L7p:Type variableDataType="string"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:Operator operator="EMPTY"/&gt;
                            &lt;L7p:RightValue stringValue=""/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${session.subscriber_id}"/&gt;
                    &lt;L7p:Operator operatorNull="null"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item dataType="included"&gt;
                            &lt;L7p:Type variableDataType="string"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:Operator operator="EMPTY"/&gt;
                            &lt;L7p:RightValue stringValue=""/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${session.scope}"/&gt;
                    &lt;L7p:Operator operatorNull="null"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item dataType="included"&gt;
                            &lt;L7p:Type variableDataType="string"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:Operator operator="EMPTY"/&gt;
                            &lt;L7p:RightValue stringValue=""/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
  "errorMessage" : "invalid parameter(s)"
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"/&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
                &lt;L7p:HardcodedResponse&gt;
                    &lt;L7p:Base64ResponseBody stringValue="JHtyZXNwb25zZU1lc3NhZ2V9Cg=="/&gt;
                    &lt;L7p:EarlyResponse booleanValue="true"/&gt;
                    &lt;L7p:ResponseContentType stringValue="${response.ContentType}"/&gt;
                &lt;/L7p:HardcodedResponse&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="Return error if the conversion is failed."/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment="included"&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="Token information if RequireOauth2Token encapsulated assertion is used"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue="ewoJInNlc3Npb24uZXhwaXJlc19hdCI6IiR7c2Vzc2lvbi5leHBpcmVzX2F0fSIsCgkic2Vzc2lvbi5jbGllbnRfaWQiOiIke3Nlc3Npb24uY2xpZW50X2lkfSIsCgkic2Vzc2lvbi5jdXN0b20iOiR7c2Vzc2lvbi5jdXN0b219LAoJInNlc3Npb24uc3Vic2NyaWJlcl9pZCI6IiR7c2Vzc2lvbi5zdWJzY3JpYmVyX2lkfSIsCgkic2Vzc2lvbi5zY29wZSI6IiR7c2Vzc2lvbi5zY29wZX0iCn0="/&gt;
            &lt;L7p:VariableToSet stringValue="token_info"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${gateway.clusterhost.ssl.port}"/&gt;
                    &lt;L7p:Expression2 stringValue="443"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                            &lt;L7p:RightValue stringValue="443"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=""/&gt;
                    &lt;L7p:VariableToSet stringValue="iss_port"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="If ssl port is equal to 443, no need to specify the https port"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment="included"&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="if ssl port is not 443, then append it as :&amp;lt;port&amp;gt; for the iss"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue="OiR7Z2F0ZXdheS5jbHVzdGVyaG9zdC5zc2wucG9ydH0="/&gt;
                &lt;L7p:VariableToSet stringValue="iss_port"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="Figure out which SSL port to use"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment="included"&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="CA JWT including default information following the RFC 7519 guide. Also include placeholder for otk token_info"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue="ewogICAgImlzcyIgOiAiaHR0cHM6Ly8ke2dhdGV3YXkuY2x1c3Rlci5ob3N0bmFtZX0ke2lzc19wb3J0fSIsCiAgICAic3ViIiA6ICJmcm9tIGd3NG1zIiwKICAgICJhdWQiIDogIiR7dGFyZ2V0VXJsfSIsCiAgICAiZXhwIiA6ICIke2p3dF9leHBpcmVzX2F0LnNlY29uZHN9IiwKICAgICJpYXQiIDogIiR7and0X2NyZWF0ZWRfYXQuc2Vjb25kc30iLAogICAgImp0aSIgOiAiJHtqdGl9IiwKICAgICJjYV9vdGsiIDogJHt0b2tlbl9pbmZvfQp9"/&gt;
            &lt;L7p:VariableToSet stringValue="ca_jwt"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;L7p:CommentAssertion&gt;
                &lt;L7p:Comment stringValue="------------   convert OAuth output to JWT Header"/&gt;
            &lt;/L7p:CommentAssertion&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="060b78ad-63ce-470c-847f-bd81fd2989f7"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="EncDecJWT"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="alg_sender"/&gt;
                            &lt;L7p:value stringValue=""/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="iss_sender"/&gt;
                            &lt;L7p:value stringValue=""/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="jwt"/&gt;
                            &lt;L7p:value stringValue=""/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="jwt.payload"/&gt;
                            &lt;L7p:value stringValue="${ca_jwt}"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
                &lt;L7p:AddHeader&gt;
                    &lt;L7p:AssertionComment assertionComment="included"&gt;
                        &lt;L7p:Properties mapValue="included"&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="Case-insensitive match for 'authorization' header and remove it"/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:AssertionComment&gt;
                    &lt;L7p:EvaluateNameAsExpression booleanValue="true"/&gt;
                    &lt;L7p:HeaderName stringValue="(?i)authorization"/&gt;
                    &lt;L7p:HeaderValue stringValue=""/&gt;
                    &lt;L7p:Operation operation="REMOVE"/&gt;
                &lt;/L7p:AddHeader&gt;
                &lt;L7p:AddHeader&gt;
                    &lt;L7p:AssertionComment assertionComment="included"&gt;
                        &lt;L7p:Properties mapValue="included"&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="Add signed jwt in http header "/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:AssertionComment&gt;
                    &lt;L7p:HeaderName stringValue="x-ca-jwt"/&gt;
                    &lt;L7p:HeaderValue stringValue="${jwt}"/&gt;
                &lt;/L7p:AddHeader&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:CommentAssertion&gt;
                &lt;L7p:Comment stringValue="------------   if failed, return error"/&gt;
            &lt;/L7p:CommentAssertion&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
  "errorMessage" : "error while converting 'requireOAuth2Token' output to JWT header"
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"/&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
                &lt;L7p:HardcodedResponse&gt;
                    &lt;L7p:Base64ResponseBody stringValue="JHtyZXNwb25zZU1lc3NhZ2V9Cg=="/&gt;
                    &lt;L7p:EarlyResponse booleanValue="true"/&gt;
                    &lt;L7p:ResponseContentType stringValue="${response.ContentType}"/&gt;
                &lt;/L7p:HardcodedResponse&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="Return error if the conversion is failed."/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/Metrics</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4358</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="e1e5a8f4-9e54-49e7-984e-94f3d10f4188" id="e5fa8dd4a897fdbdafa8327bde4b4358">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="e1e5a8f4-9e54-49e7-984e-94f3d10f4188" id="e5fa8dd4a897fdbdafa8327bde4b4358">
                        <l7:Name>Metrics</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Metrics"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:CustomLoggerSuffix stringValue="metrics"/&gt;
            &lt;L7p:Detail stringValue="${metrics.mainpart}"/&gt;
            &lt;L7p:LoggingOnly booleanValue="true"/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/Consul - Delete Key</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4356</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="d49d1a88-5d88-47c3-a632-195240a36741" id="e5fa8dd4a897fdbdafa8327bde4b4356">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="d49d1a88-5d88-47c3-a632-195240a36741" id="e5fa8dd4a897fdbdafa8327bde4b4356">
                        <l7:Name>Consul - Delete Key</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Delete Key"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Consul Delete Key"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtlbmRQb2ludENhbGxpbmd9"/&gt;
                    &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:Regex&gt;
                    &lt;L7p:AutoTarget booleanValue="false"/&gt;
                    &lt;L7p:CaseInsensitive booleanValue="true"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="param.uri"/&gt;
                    &lt;L7p:PatternContainsVariables booleanValue="true"/&gt;
                    &lt;L7p:Regex stringValue="/${endPointCalling}"/&gt;
                    &lt;L7p:RegexName stringValue="process uri"/&gt;
                    &lt;L7p:Replace booleanValue="true"/&gt;
                    &lt;L7p:Replacement stringValue="/"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:HttpMethod httpMethod="DELETE"/&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/kv${param.uri}"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/MasterTemplate/Consul - Dynamic Route with Key</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4344</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:Resource>
                <l7:Policy guid="24fb153e-b400-458d-aba9-93a9c56f7143" id="e5fa8dd4a897fdbdafa8327bde4b4344">
                    <l7:PolicyDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4377" guid="24fb153e-b400-458d-aba9-93a9c56f7143" id="e5fa8dd4a897fdbdafa8327bde4b4344">
                        <l7:Name>Consul - Dynamic Route with Key</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Dynamic Route"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtlbmRQb2ludENhbGxpbmd9"/&gt;
                    &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:Regex&gt;
                    &lt;L7p:AutoTarget booleanValue="false"/&gt;
                    &lt;L7p:CaseInsensitive booleanValue="true"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="param.uri"/&gt;
                    &lt;L7p:PatternContainsVariables booleanValue="true"/&gt;
                    &lt;L7p:Regex stringValue="/${endPointCalling}"/&gt;
                    &lt;L7p:RegexName stringValue="process uri"/&gt;
                    &lt;L7p:Replace booleanValue="true"/&gt;
                    &lt;L7p:Replacement stringValue="/"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/kv${param.uri}"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:All wsp:Usage="Required"&gt;
            &lt;L7p:EvaluateJsonPathExpression&gt;
                &lt;L7p:Expression stringValue="[0].Key"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="key"/&gt;
            &lt;/L7p:EvaluateJsonPathExpression&gt;
            &lt;L7p:EvaluateJsonPathExpression&gt;
                &lt;L7p:Expression stringValue="[0].Value"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="value"/&gt;
            &lt;/L7p:EvaluateJsonPathExpression&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="JHt2YWx1ZS5yZXN1bHRzWzBdfQ=="/&gt;
                &lt;L7p:ContentType stringValue="application/json; charset=utf-8"/&gt;
                &lt;L7p:DataType variableDataType="message"/&gt;
                &lt;L7p:VariableToSet stringValue="output"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:EncodeDecode&gt;
                &lt;L7p:CharacterEncoding stringValueNull="null"/&gt;
                &lt;L7p:SourceVariableName stringValue="output"/&gt;
                &lt;L7p:TargetContentType stringValue="application/json; charset=utf-8"/&gt;
                &lt;L7p:TargetDataType variableDataType="message"/&gt;
                &lt;L7p:TargetVariableName stringValue="output"/&gt;
                &lt;L7p:TransformType transformType="BASE64_DECODE"/&gt;
            &lt;/L7p:EncodeDecode&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                    &lt;L7p:Expression stringValue="$.apiLocation"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                    &lt;L7p:VariablePrefix stringValue="apiLoc"/&gt;
                &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                    &lt;L7p:Expression stringValue="$.uri"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                    &lt;L7p:VariablePrefix stringValue="uri"/&gt;
                &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                    &lt;L7p:Expression stringValue="$.port"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                    &lt;L7p:VariablePrefix stringValue="port"/&gt;
                &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                    &lt;L7p:Expression stringValue="$.protocol"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                    &lt;L7p:VariablePrefix stringValue="protocol"/&gt;
                &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;wsp:All wsp:Usage="Required"&gt;
                    &lt;L7p:SetVariable&gt;
                        &lt;L7p:Base64Expression stringValue=""/&gt;
                        &lt;L7p:VariableToSet stringValue="hosturl"/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:Split&gt;
                        &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                        &lt;L7p:InputVariable stringValue="apiLoc.result"/&gt;
                        &lt;L7p:OutputVariable stringValue="hostDetails"/&gt;
                    &lt;/L7p:Split&gt;
                    &lt;L7p:ForEachLoop L7p:Usage="Required" loopVariable="hostDetails" variablePrefix="url"&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="JHtob3N0dXJsfSR7cHJvdG9jb2wucmVzdWx0c1swXX06Ly8ke3VybC5jdXJyZW50fToke3BvcnQucmVzdWx0c1swXX0ke3VyaS5yZXN1bHRzWzBdfSR7cmVxdWVzdC51cmwucXVlcnl9LA=="/&gt;
                            &lt;L7p:VariableToSet stringValue="hosturl"/&gt;
                        &lt;/L7p:SetVariable&gt;
                    &lt;/L7p:ForEachLoop&gt;
                    &lt;L7p:Split&gt;
                        &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                        &lt;L7p:InputVariable stringValue="hosturl"/&gt;
                        &lt;L7p:OutputVariable stringValue="routeList"/&gt;
                    &lt;/L7p:Split&gt;
                    &lt;L7p:CreateRoutingStrategy&gt;
                        &lt;L7p:Routes routes="included"&gt;
                            &lt;L7p:item route="included"&gt;
                                &lt;L7p:Name stringValue="${routeList}"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Routes&gt;
                        &lt;L7p:StrategyDescription stringValue="Round-Robin"/&gt;
                        &lt;L7p:StrategyName stringValue="robin"/&gt;
                    &lt;/L7p:CreateRoutingStrategy&gt;
                    &lt;L7p:ForEachLoop L7p:Usage="Required" loopVariable="strategy.routeList" variablePrefix="route"&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="MA=="/&gt;
                            &lt;L7p:DataType variableDataType="int"/&gt;
                            &lt;L7p:VariableToSet stringValue="feedback.current.status"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:ExecuteRoutingStrategy/&gt;
                        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                            &lt;L7p:HttpRoutingAssertion&gt;
                                &lt;L7p:ConnectionTimeout stringValue="3000"/&gt;
                                &lt;L7p:ProtectedServiceUrl stringValue="${route}"/&gt;
                                &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                                &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                                &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                        &lt;L7p:item httpPassthroughRule="included"&gt;
                                            &lt;L7p:Name stringValue="Cookie"/&gt;
                                        &lt;/L7p:item&gt;
                                        &lt;L7p:item httpPassthroughRule="included"&gt;
                                            &lt;L7p:Name stringValue="SOAPAction"/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                &lt;/L7p:RequestHeaderRules&gt;
                                &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                                &lt;/L7p:RequestParamRules&gt;
                                &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                        &lt;L7p:item httpPassthroughRule="included"&gt;
                                            &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                &lt;/L7p:ResponseHeaderRules&gt;
                                &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                                &lt;L7p:Timeout stringValue="6000"/&gt;
                            &lt;/L7p:HttpRoutingAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="LTE="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.status"/&gt;
                            &lt;/L7p:SetVariable&gt;
                        &lt;/wsp:OneOrMore&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="JHthc3NlcnRpb24ubGF0ZW5jeS5tc30="/&gt;
                            &lt;L7p:DataType variableDataType="int"/&gt;
                            &lt;L7p:VariableToSet stringValue="feedback.current.latency"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="JHtodHRwcm91dGluZy5yZWFzb25Db2RlfQ=="/&gt;
                            &lt;L7p:DataType variableDataType="int"/&gt;
                            &lt;L7p:VariableToSet stringValue="feedback.current.reasoncode"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                &lt;L7p:Expression1 stringValue="${feedback.current.status}"/&gt;
                                &lt;L7p:Operator operatorNull="null"/&gt;
                                &lt;L7p:Predicates predicates="included"&gt;
                                    &lt;L7p:item dataType="included"&gt;
                                        &lt;L7p:Type variableDataType="int"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary="included"&gt;
                                        &lt;L7p:Negated booleanValue="true"/&gt;
                                        &lt;L7p:Operator operator="EMPTY"/&gt;
                                        &lt;L7p:RightValue stringValue=""/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary="included"&gt;
                                        &lt;L7p:RightValue stringValue="-1"/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="dHJ1ZQ=="/&gt;
                                &lt;L7p:VariableToSet stringValue="routeList.break"/&gt;
                            &lt;/L7p:SetVariable&gt;
                        &lt;/wsp:OneOrMore&gt;
                        &lt;L7p:ProcessRoutingStrategyResult/&gt;
                    &lt;/L7p:ForEachLoop&gt;
                    &lt;L7p:assertionComment&gt;
                        &lt;L7p:Properties mapValue="included"&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="URL PREPARE"/&gt;
                            &lt;/L7p:entry&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="//Preparing url for routelist"/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                &lt;/wsp:All&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="PREPARE ROUTE"/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// Retrieve data from retreived response and prepare for Route"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="PREPARE RESPONSE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// Retrieve data from consul and prepare the response"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:All&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul - Security</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4350</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="e5fa8dd4a897fdbdafa8327bde4b4350">
                    <l7:Name>Consul - Security</l7:Name>
                    <l7:Guid>5837c975-3929-4319-9f2b-59196a4dadee</l7:Guid>
                    <l7:PolicyReference id="e5fa8dd4a897fdbdafa8327bde4b435d"/>
                    <l7:EncapsulatedArguments/>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>accessControl</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="l7Template">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Consul Security Policy</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>JWT-Validate</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4353</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="e5fa8dd4a897fdbdafa8327bde4b4353">
                    <l7:Name>JWT-Validate</l7:Name>
                    <l7:Guid>903a5c04-b77e-41a4-8ee7-04c730b96208</l7:Guid>
                    <l7:PolicyReference id="e5fa8dd4a897fdbdafa8327bde4b435a"/>
                    <l7:EncapsulatedArguments/>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="l7Template">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>JWT Validation Policy for the given set of keys</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - Catalog Register</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4351</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="e5fa8dd4a897fdbdafa8327bde4b4351">
                    <l7:Name>CONSUL - Catalog Register</l7:Name>
                    <l7:Guid>fb2e61c3-72a6-4faf-9ce1-e43301dd7ac0</l7:Guid>
                    <l7:PolicyReference id="e5fa8dd4a897fdbdafa8327bde4b435e"/>
                    <l7:EncapsulatedArguments/>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="l7Template">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>For Registering Service with catalog</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul - Dynamic Route with Service [complete address]</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b434b</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="e5fa8dd4a897fdbdafa8327bde4b434b">
                    <l7:Name>Consul - Dynamic Route with Service [complete address]</l7:Name>
                    <l7:Guid>4eb1e362-6e6b-48f0-bd8b-93fc92c28bfb</l7:Guid>
                    <l7:PolicyReference id="e5fa8dd4a897fdbdafa8327bde4b435b"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>endPointCalling</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiLabel>EndPoint Calling</l7:GuiLabel>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="l7Template">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Dynamic Route for Service in Catalog (consul with Complete Address)</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - DeRegister Catalog Service</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b434c</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="e5fa8dd4a897fdbdafa8327bde4b434c">
                    <l7:Name>CONSUL - DeRegister Catalog Service</l7:Name>
                    <l7:Guid>746cdc15-80fc-4ba5-83b6-45a77f50ba8e</l7:Guid>
                    <l7:PolicyReference id="e5fa8dd4a897fdbdafa8327bde4b432d"/>
                    <l7:EncapsulatedArguments/>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="l7Template">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Consul Deregister Service</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - Apply RateLimit</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b434a</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="e5fa8dd4a897fdbdafa8327bde4b434a">
                    <l7:Name>CONSUL - Apply RateLimit</l7:Name>
                    <l7:Guid>59414da5-c82e-4a84-8653-4ea35eacabad</l7:Guid>
                    <l7:PolicyReference id="e5fa8dd4a897fdbdafa8327bde4b432e"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>domain</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiLabel/>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>accessControl</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="l7Template">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Applying Rate Limit specific to given Domain using Consul Key/Value Stream.</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul - Delete Key</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4354</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="e5fa8dd4a897fdbdafa8327bde4b4354">
                    <l7:Name>Consul - Delete Key</l7:Name>
                    <l7:Guid>a77a637e-17f3-47a2-8bec-f1b1241eb47c</l7:Guid>
                    <l7:PolicyReference id="e5fa8dd4a897fdbdafa8327bde4b4356"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>endPointCalling</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiLabel/>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="l7Template">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>For delete Consul Key</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - PUT Key</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4355</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="e5fa8dd4a897fdbdafa8327bde4b4355">
                    <l7:Name>CONSUL - PUT Key</l7:Name>
                    <l7:Guid>21bb9151-7b55-43e1-ad09-87f38a985129</l7:Guid>
                    <l7:PolicyReference id="e5fa8dd4a897fdbdafa8327bde4b4357"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>endPointCalling</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiLabel/>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="l7Template">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Adding/Updating the Key/Value Stream in Consul</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - Catalog Search</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4352</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="e5fa8dd4a897fdbdafa8327bde4b4352">
                    <l7:Name>CONSUL - Catalog Search</l7:Name>
                    <l7:Guid>11a4fc01-f53c-4c16-a9d5-e2d17d94063f</l7:Guid>
                    <l7:PolicyReference id="e5fa8dd4a897fdbdafa8327bde4b435c"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>endPointCalling</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiLabel/>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="l7Template">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Search the catalog based on input 
 a. No input - brings all services in the catalog
 b. with specific service given - brings the details for that service.</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>EncDecJWT</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b434e</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="e5fa8dd4a897fdbdafa8327bde4b434e">
                    <l7:Name>EncDecJWT</l7:Name>
                    <l7:Guid>060b78ad-63ce-470c-847f-bd81fd2989f7</l7:Guid>
                    <l7:PolicyReference id="e5fa8dd4a897fdbdafa8327bde4b435f"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>alg_sender</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiLabel>Valid ALG for Validation</l7:GuiLabel>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>2</l7:Ordinal>
                            <l7:ArgumentName>jwt</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiLabel>JWT to be Validated</l7:GuiLabel>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>3</l7:Ordinal>
                            <l7:ArgumentName>jwt.payload</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiLabel>Message for Payload</l7:GuiLabel>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>4</l7:Ordinal>
                            <l7:ArgumentName>iss_sender</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiLabel>Valid ISS for Validation</l7:GuiLabel>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults>
                        <l7:EncapsulatedAssertionResult>
                            <l7:ResultName>jwt</l7:ResultName>
                            <l7:ResultType>string</l7:ResultType>
                        </l7:EncapsulatedAssertionResult>
                        <l7:EncapsulatedAssertionResult>
                            <l7:ResultName>error.code</l7:ResultName>
                            <l7:ResultType>string</l7:ResultType>
                        </l7:EncapsulatedAssertionResult>
                        <l7:EncapsulatedAssertionResult>
                            <l7:ResultName>jwt.header</l7:ResultName>
                            <l7:ResultType>string</l7:ResultType>
                        </l7:EncapsulatedAssertionResult>
                        <l7:EncapsulatedAssertionResult>
                            <l7:ResultName>jwt.payload</l7:ResultName>
                            <l7:ResultType>string</l7:ResultType>
                        </l7:EncapsulatedAssertionResult>
                    </l7:EncapsulatedResults>
                    <l7:Properties>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>customAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="l7Template">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Encodes a message into a signed JWT using RS256 with the current default ssl key. It validates a JWT using the OpenID Connect discovery and jwks.json protocols. It will fail if the 'iss' (issuer) is not a trusted party in which case the gateway cannot connect to the issuer to retrieve required artifacts. For encoding purposes only the payload needs to be provided. For validation purposes the JWT and optionally the accepted algorithm and issuer</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - GET Key</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b434d</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="e5fa8dd4a897fdbdafa8327bde4b434d">
                    <l7:Name>CONSUL - GET Key</l7:Name>
                    <l7:Guid>f23c9038-e1c8-405f-b155-39ad7cf4c373</l7:Guid>
                    <l7:PolicyReference id="e5fa8dd4a897fdbdafa8327bde4b4359"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>endPointCalling</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiLabel/>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults>
                        <l7:EncapsulatedAssertionResult>
                            <l7:ResultName>output</l7:ResultName>
                            <l7:ResultType>message</l7:ResultType>
                        </l7:EncapsulatedAssertionResult>
                    </l7:EncapsulatedResults>
                    <l7:Properties>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="l7Template">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Retreive Value for a given Key from Consul Key/Value Stream</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - Dynamic Route with Key</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b434f</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="e5fa8dd4a897fdbdafa8327bde4b434f">
                    <l7:Name>CONSUL - Dynamic Route with Key</l7:Name>
                    <l7:Guid>440f2f0c-af93-4dec-8de9-910cbcc423cd</l7:Guid>
                    <l7:PolicyReference id="e5fa8dd4a897fdbdafa8327bde4b4344"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>endPointCalling</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiLabel/>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="l7Template">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Retrieves specifc key/value from Consul and does a dynamic Route</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Proxies/Employee</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4346</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4346">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4378" id="e5fa8dd4a897fdbdafa8327bde4b4346">
                        <l7:Name>Employee</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/employee/*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="ewogICAgICJBcHBsaWNhdGlvbiI6ICJFbXBsb3llZSBBcHAiLAogICAgICJSZXNwb25zZSI6ICJBUEkgY2FsbCBTdWNjZXNzIgp9"/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/Consul-PUT</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b433c</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b433c">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b433c">
                        <l7:Name>Consul-PUT</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/put/key*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="21bb9151-7b55-43e1-ad09-87f38a985129"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - PUT Key"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="endPointCalling"/&gt;
                            &lt;L7p:value stringValue="put/key/"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/JWT/JWT-Basic</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b433a</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b433a">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4375" id="e5fa8dd4a897fdbdafa8327bde4b433a">
                        <l7:Name>JWT-Basic</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/mediate/getJWT</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:SslAssertion/&gt;
                &lt;L7p:HttpBasic/&gt;
                &lt;L7p:Authentication&gt;
                    &lt;L7p:IdentityProviderOid goidValue="0000000000000000fffffffffffffffe"/&gt;
                    &lt;L7p:Enabled booleanValue="false"/&gt;
                &lt;/L7p:Authentication&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="ewogICAiVXNlck5hbWUiOiIke3JlcXVlc3QudXNlcm5hbWV9IiwKICAgICJwYXNzd29yZCI6IiR7cmVxdWVzdC5wYXNzd29yZH0iCn0="/&gt;
                    &lt;L7p:VariableToSet stringValue="jwt"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:EncodeJsonWebToken&gt;
                    &lt;L7p:KeyAlias stringValue="jwtvalidate"/&gt;
                    &lt;L7p:KeyGoid goidValue="00000000000000000000000000000002"/&gt;
                    &lt;L7p:SignPayload booleanValue="true"/&gt;
                    &lt;L7p:SignatureAlgorithm stringValue="RS256"/&gt;
                    &lt;L7p:SignatureSourceType intValue="1"/&gt;
                    &lt;L7p:SourceVariable stringValue="${jwt}"/&gt;
                    &lt;L7p:TargetVariable stringValue="jwt"/&gt;
                &lt;/L7p:EncodeJsonWebToken&gt;
                &lt;L7p:HardcodedResponse&gt;
                    &lt;L7p:Base64ResponseBody stringValue="JHtqd3QuY29tcGFjdH0="/&gt;
                    &lt;L7p:ResponseContentType stringValue="text/plain; charset=UTF-8"/&gt;
                &lt;/L7p:HardcodedResponse&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Authentication Failure",
   "Descripton" : "Not a valid User - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/Consul-RegisterService</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4335</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4335">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b4335">
                        <l7:Name>Consul-RegisterService</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/service/register</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Delete Key"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Consul Delete Key"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="fb2e61c3-72a6-4faf-9ce1-e43301dd7ac0"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - Catalog Register"/&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
            &lt;L7p:Enabled booleanValue="false"/&gt;
            &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:Enabled booleanValue="false"/&gt;
            &lt;L7p:FailOnErrorStatus booleanValue="false"/&gt;
            &lt;L7p:HttpMethod httpMethod="PUT"/&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/catalog/register"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Proxies/CUSTOMER</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4338</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4338">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4378" id="e5fa8dd4a897fdbdafa8327bde4b4338">
                        <l7:Name>CUSTOMER</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/customer/*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="ewogICAgICJBcHBsaWNhdGlvbiI6ICJDdXN0b21lciBBcHAiLAogICAgICJSZXNwb25zZSI6ICJBUEkgY2FsbCBTdWNjZXNzIgp9"/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/Consul-DeRegisterService</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4334</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4334">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b4334">
                        <l7:Name>Consul-DeRegisterService</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/service/deregister</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - DeRegister Service"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="746cdc15-80fc-4ba5-83b6-45a77f50ba8e"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - DeRegister Catalog Service"/&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/Consul-Get</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4331</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4331">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b4331">
                        <l7:Name>Consul-Get</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/get/key*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="f23c9038-e1c8-405f-b155-39ad7cf4c373"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - GET Key"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="endPointCalling"/&gt;
                            &lt;L7p:value stringValue="get/key/"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="JHtvdXRwdXQubWFpbnBhcnR9Cgo="/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/Consul-AgentService</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4332</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4332">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b4332">
                        <l7:Name>Consul-AgentService</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/agent/services</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
            &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:FailOnErrorStatus booleanValue="false"/&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="http://${consul.url}/agent/services"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/Consul - CacheUpdate</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4336</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4336">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b4336">
                        <l7:Name>Consul - CacheUpdate</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/cache/update</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:AuditAssertion&gt;
            &lt;L7p:Level stringValue="INFO"/&gt;
            &lt;L7p:SaveRequest booleanValue="true"/&gt;
            &lt;L7p:SaveResponse booleanValue="true"/&gt;
        &lt;/L7p:AuditAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
            &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:AssertionComment assertionComment="included"&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Get all nodes"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:HttpMethod httpMethod="GET"/&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/coordinate/nodes"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
        &lt;L7p:EvaluateJsonPathExpressionV2&gt;
            &lt;L7p:AssertionComment assertionComment="included"&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// Parse node info"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Expression stringValue=".Node"/&gt;
            &lt;L7p:Target target="RESPONSE"/&gt;
            &lt;L7p:VariablePrefix stringValue="nodes"/&gt;
        &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
        &lt;L7p:ForEachLoop L7p:Usage="Required" loopVariable="nodes.results" variablePrefix="node"&gt;
            &lt;L7p:HttpRoutingAssertion&gt;
                &lt;L7p:AssertionComment assertionComment="included"&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// Get health for node"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:HttpMethod httpMethod="GET"/&gt;
                &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/health/node/${node.current}"/&gt;
                &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                        &lt;L7p:item httpPassthroughRule="included"&gt;
                            &lt;L7p:Name stringValue="Cookie"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item httpPassthroughRule="included"&gt;
                            &lt;L7p:Name stringValue="SOAPAction"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Rules&gt;
                &lt;/L7p:RequestHeaderRules&gt;
                &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                    &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                &lt;/L7p:RequestParamRules&gt;
                &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                        &lt;L7p:item httpPassthroughRule="included"&gt;
                            &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Rules&gt;
                &lt;/L7p:ResponseHeaderRules&gt;
                &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
            &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                &lt;wsp:All wsp:Usage="Required"&gt;
                    &lt;L7p:ComparisonAssertion&gt;
                        &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                        &lt;L7p:Expression1 stringValue="${response.mainpart}"/&gt;
                        &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                        &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                        &lt;L7p:Operator operatorNull="null"/&gt;
                        &lt;L7p:Predicates predicates="included"&gt;
                            &lt;L7p:item dataType="included"&gt;
                                &lt;L7p:Type variableDataType="string"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item binary="included"&gt;
                                &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                &lt;L7p:Negated booleanValue="true"/&gt;
                                &lt;L7p:RightValue stringValue="[]"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Predicates&gt;
                    &lt;/L7p:ComparisonAssertion&gt;
                    &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                        &lt;L7p:AssertionComment assertionComment="included"&gt;
                            &lt;L7p:Properties mapValue="included"&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="// Parse service names"/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:AssertionComment&gt;
                        &lt;L7p:Expression stringValue=".ServiceName"/&gt;
                        &lt;L7p:Target target="RESPONSE"/&gt;
                        &lt;L7p:VariablePrefix stringValue="serviceNames"/&gt;
                    &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                    &lt;L7p:ForEachLoop L7p:Usage="Required" loopVariable="serviceNames.results" variablePrefix="serviceName"&gt;
                        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                            &lt;wsp:All wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${serviceName.current}"/&gt;
                                    &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                                    &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                                    &lt;L7p:Operator operatorNull="null"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item dataType="included"&gt;
                                            &lt;L7p:Type variableDataType="string"/&gt;
                                        &lt;/L7p:item&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:Negated booleanValue="true"/&gt;
                                            &lt;L7p:Operator operator="EMPTY"/&gt;
                                            &lt;L7p:RightValue stringValue=""/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment="included"&gt;
                                        &lt;L7p:Properties mapValue="included"&gt;
                                            &lt;L7p:entry&gt;
                                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                                &lt;L7p:value stringValue="//Get service info"/&gt;
                                            &lt;/L7p:entry&gt;
                                        &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:HttpMethod httpMethod="GET"/&gt;
                                    &lt;L7p:ProtectedServiceUrl stringValue="${consul.url}/health/service/${serviceName.current}"/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="Cookie"/&gt;
                                            &lt;/L7p:item&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                                            &lt;/L7p:item&gt;
                                        &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;
                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                                    &lt;/L7p:RequestParamRules&gt;
                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                                            &lt;/L7p:item&gt;
                                        &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;
                                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                                &lt;/L7p:HttpRoutingAssertion&gt;
                                &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                                    &lt;L7p:AssertionComment assertionComment="included"&gt;
                                        &lt;L7p:Properties mapValue="included"&gt;
                                            &lt;L7p:entry&gt;
                                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                                &lt;L7p:value stringValue="// Parse service for all addresses"/&gt;
                                            &lt;/L7p:entry&gt;
                                        &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Expression stringValue=".Service.Address"/&gt;
                                    &lt;L7p:Target target="RESPONSE"/&gt;
                                    &lt;L7p:VariablePrefix stringValue="serviceAddresses"/&gt;
                                &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                                &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue="Addresses retrieved from consul : ${serviceAddresses.results}"/&gt;
                                    &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                                &lt;/L7p:AuditDetailAssertion&gt;
                                &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                    &lt;L7p:CacheLookup&gt;
                                        &lt;L7p:CacheEntryKey stringValue="${serviceName.current}"/&gt;
                                        &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                                        &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                                        &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                                        &lt;L7p:OtherTargetMessageVariable stringValue="serviceName.available"/&gt;
                                        &lt;L7p:Target target="OTHER"/&gt;
                                    &lt;/L7p:CacheLookup&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                        &lt;L7p:Detail stringValueReference="inline"&gt;&lt;![CDATA[Before Saving 
Service name : ${serviceName.current}
Addresses from Cache before storing : ${serviceName.available.mainpart}]]&gt;&lt;/L7p:Detail&gt;
                                        &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                &lt;/wsp:OneOrMore&gt;
                                &lt;wsp:All wsp:Usage="Required"&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                        &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                        &lt;L7p:Expression1 stringValue="${serviceAddresses.results}"/&gt;
                                        &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                                        &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                                        &lt;L7p:Operator operatorNull="null"/&gt;
                                        &lt;L7p:Predicates predicates="included"&gt;
                                            &lt;L7p:item dataType="included"&gt;
                                                &lt;L7p:Type variableDataType="string"/&gt;
                                            &lt;/L7p:item&gt;
                                            &lt;L7p:item binary="included"&gt;
                                                &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                                &lt;L7p:Negated booleanValue="true"/&gt;
                                                &lt;L7p:Operator operator="EMPTY"/&gt;
                                                &lt;L7p:RightValue stringValue=""/&gt;
                                            &lt;/L7p:item&gt;
                                        &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                        &lt;L7p:Detail stringValue="Before Saving Addresses retrieved from consul : ${serviceAddresses.results}"/&gt;
                                        &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                        &lt;L7p:Base64Expression stringValue="JHtzZXJ2aWNlQWRkcmVzc2VzLnJlc3VsdHN9"/&gt;
                                        &lt;L7p:ContentType stringValue="text/plain; charset=utf-8"/&gt;
                                        &lt;L7p:DataType variableDataType="message"/&gt;
                                        &lt;L7p:VariableToSet stringValue="addrMessage"/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:CacheStorage&gt;
                                        &lt;L7p:CacheEntryKey stringValue="${serviceName.current}"/&gt;
                                        &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                                        &lt;L7p:MaxEntries stringValue="1000"/&gt;
                                        &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                                        &lt;L7p:MaxEntrySizeBytes stringValue="1000000"/&gt;
                                        &lt;L7p:OtherTargetMessageVariable stringValue="addrMessage"/&gt;
                                        &lt;L7p:Target target="OTHER"/&gt;
                                    &lt;/L7p:CacheStorage&gt;
                                &lt;/wsp:All&gt;
                                &lt;wsp:All wsp:Usage="Required"&gt;
                                    &lt;L7p:CacheLookup&gt;
                                        &lt;L7p:CacheEntryKey stringValue="${serviceName.current}"/&gt;
                                        &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                                        &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                                        &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                                        &lt;L7p:OtherTargetMessageVariable stringValue="serviceName.available"/&gt;
                                        &lt;L7p:Target target="OTHER"/&gt;
                                    &lt;/L7p:CacheLookup&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                        &lt;L7p:Detail stringValueReference="inline"&gt;&lt;![CDATA[After Saving
Service name : ${serviceName.current}
Addresses from Cache after storing : ${serviceName.available.mainpart}]]&gt;&lt;/L7p:Detail&gt;
                                        &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                &lt;/wsp:All&gt;
                            &lt;/wsp:All&gt;
                            &lt;wsp:All wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${serviceName.current}"/&gt;
                                    &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                                    &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                                    &lt;L7p:Operator operatorNull="null"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item dataType="included"&gt;
                                            &lt;L7p:Type variableDataType="string"/&gt;
                                        &lt;/L7p:item&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                            &lt;L7p:Operator operator="EMPTY"/&gt;
                                            &lt;L7p:RightValue stringValue=""/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                            &lt;/wsp:All&gt;
                        &lt;/wsp:OneOrMore&gt;
                    &lt;/L7p:ForEachLoop&gt;
                &lt;/wsp:All&gt;
                &lt;wsp:All wsp:Usage="Required"&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                        &lt;L7p:Detail stringValue="No services found under node - ${node.current}"/&gt;
                        &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                &lt;/wsp:All&gt;
            &lt;/wsp:OneOrMore&gt;
        &lt;/L7p:ForEachLoop&gt;
        &lt;L7p:FaultLevel&gt;
            &lt;L7p:LevelInfo soapFaultLevel="included"&gt;
                &lt;L7p:Level intValue="4"/&gt;
            &lt;/L7p:LevelInfo&gt;
        &lt;/L7p:FaultLevel&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="T2s="/&gt;
            &lt;L7p:ResponseContentType stringValue="text/plain; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/Consul-ServiceRoute</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4347</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4347">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b4347">
                        <l7:Name>Consul-ServiceRoute</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/microsvc*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Dynamic Service Route"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="5837c975-3929-4319-9f2b-59196a4dadee"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="Consul - Security"/&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Authentication Failure",
   "Descripton" : "User Authentication Failed- Please contact admin."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="AuthN Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                    &lt;L7p:IncludePolicyDownloadURL booleanValue="true"/&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="SECURITY"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//OnDemand Security "/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="59414da5-c82e-4a84-8653-4ea35eacabad"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - Apply RateLimit"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="domain"/&gt;
                            &lt;L7p:value stringValue="crm"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " ApplyRateLimit",
   "Descripton" : "# of request exceeds the given limit - Please contact admin."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="RateLimit Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                    &lt;L7p:IncludePolicyDownloadURL booleanValue="true"/&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="ENTERPRISE Wide TEMPLATE Addition"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Add Enterprise wide templates"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="bWljcm9zdmMv"/&gt;
                    &lt;L7p:VariableToSet stringValue="endPointCalling"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtlbmRQb2ludENhbGxpbmd9"/&gt;
                    &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:Regex&gt;
                    &lt;L7p:AutoTarget booleanValue="false"/&gt;
                    &lt;L7p:CaseInsensitive booleanValue="true"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="param.uri"/&gt;
                    &lt;L7p:PatternContainsVariables booleanValue="true"/&gt;
                    &lt;L7p:Regex stringValue="/${endPointCalling}"/&gt;
                    &lt;L7p:RegexName stringValue="process uri"/&gt;
                    &lt;L7p:Replace booleanValue="true"/&gt;
                    &lt;L7p:Replacement stringValue="/"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:Expression1 stringValue="${param.uri}"/&gt;
                    &lt;L7p:Expression2 stringValue="/"/&gt;
                    &lt;L7p:Negate booleanValue="true"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:RightValue stringValue="/"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:Expression1 stringValue="${param.uri}"/&gt;
                            &lt;L7p:Expression2 stringValue="[]"/&gt;
                            &lt;L7p:Operator operator="NE"/&gt;
                            &lt;L7p:Predicates predicates="included"&gt;
                                &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:Operator operator="NE"/&gt;
                                    &lt;L7p:RightValue stringValue="[]"/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:Split&gt;
                            &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                            &lt;L7p:InputVariable stringValue="param.uri"/&gt;
                            &lt;L7p:OutputVariable stringValue="uriSplit"/&gt;
                            &lt;L7p:SplitPattern stringValue="/"/&gt;
                        &lt;/L7p:Split&gt;
                        &lt;L7p:CacheLookup&gt;
                            &lt;L7p:CacheEntryKey stringValue="${uriSplit[0]}"/&gt;
                            &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                            &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                            &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                            &lt;L7p:OtherTargetMessageVariable stringValue="serviceAddress"/&gt;
                            &lt;L7p:Target target="OTHER"/&gt;
                        &lt;/L7p:CacheLookup&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="JHtzZXJ2aWNlQWRkcmVzcy5tYWlucGFydH0="/&gt;
                            &lt;L7p:VariableToSet stringValue="hostAddress"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:Split&gt;
                            &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                            &lt;L7p:InputVariable stringValue="hostAddress"/&gt;
                            &lt;L7p:OutputVariable stringValue="hostDetails"/&gt;
                        &lt;/L7p:Split&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue=""/&gt;
                            &lt;L7p:VariableToSet stringValue="hosturl"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:ForEachLoop L7p:Usage="Required" loopVariable="hostDetails" variablePrefix="url"&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHt1cmwuY3VycmVudH0ke3JlcXVlc3QudXJsLnF1ZXJ5fSw="/&gt;
                                &lt;L7p:VariableToSet stringValue="hosturl"/&gt;
                            &lt;/L7p:SetVariable&gt;
                        &lt;/L7p:ForEachLoop&gt;
                        &lt;L7p:Split&gt;
                            &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                            &lt;L7p:InputVariable stringValue="hosturl"/&gt;
                            &lt;L7p:OutputVariable stringValue="routeList"/&gt;
                        &lt;/L7p:Split&gt;
                        &lt;L7p:CreateRoutingStrategy&gt;
                            &lt;L7p:Routes routes="included"&gt;
                                &lt;L7p:item route="included"&gt;
                                    &lt;L7p:Name stringValue="${routeList}"/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Routes&gt;
                            &lt;L7p:StrategyDescription stringValue="Round-Robin"/&gt;
                            &lt;L7p:StrategyName stringValue="robin"/&gt;
                        &lt;/L7p:CreateRoutingStrategy&gt;
                        &lt;L7p:ForEachLoop L7p:Usage="Required" loopVariable="strategy.routeList" variablePrefix="route"&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="MA=="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.status"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:ExecuteRoutingStrategy/&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:ConnectionTimeout stringValue="3000"/&gt;
                                    &lt;L7p:ProtectedServiceUrl stringValue="${route}"/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="Cookie"/&gt;
                                            &lt;/L7p:item&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                                            &lt;/L7p:item&gt;
                                        &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;
                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                                    &lt;/L7p:RequestParamRules&gt;
                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                                            &lt;/L7p:item&gt;
                                        &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;
                                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                                    &lt;L7p:Timeout stringValue="6000"/&gt;
                                &lt;/L7p:HttpRoutingAssertion&gt;
                                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue="LTE="/&gt;
                                    &lt;L7p:DataType variableDataType="int"/&gt;
                                    &lt;L7p:VariableToSet stringValue="feedback.current.status"/&gt;
                                &lt;/L7p:SetVariable&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHthc3NlcnRpb24ubGF0ZW5jeS5tc30="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.latency"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHtodHRwcm91dGluZy5yZWFzb25Db2RlfQ=="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.reasoncode"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${feedback.current.status}"/&gt;
                                    &lt;L7p:Operator operatorNull="null"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                        &lt;L7p:item dataType="included"&gt;
                                            &lt;L7p:Type variableDataType="int"/&gt;
                                        &lt;/L7p:item&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:Negated booleanValue="true"/&gt;
                                            &lt;L7p:Operator operator="EMPTY"/&gt;
                                            &lt;L7p:RightValue stringValue=""/&gt;
                                        &lt;/L7p:item&gt;
                                        &lt;L7p:item binary="included"&gt;
                                            &lt;L7p:RightValue stringValue="-1"/&gt;
                                        &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue="dHJ1ZQ=="/&gt;
                                    &lt;L7p:VariableToSet stringValue="routeList.break"/&gt;
                                &lt;/L7p:SetVariable&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:ProcessRoutingStrategyResult/&gt;
                        &lt;/L7p:ForEachLoop&gt;
                    &lt;/wsp:All&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:CustomizeErrorResponse&gt;
                            &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Service not found - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                            &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                            &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                                &lt;L7p:item nameValuePair="included"&gt;
                                    &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                                    &lt;L7p:Value stringValue="Request Failer"/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:ExtraHeaders&gt;
                        &lt;/L7p:CustomizeErrorResponse&gt;
                        &lt;L7p:RaiseError/&gt;
                    &lt;/wsp:All&gt;
                &lt;/wsp:OneOrMore&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Insufficient Information - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:OneOrMore L7p:Enabled="false" wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="4eb1e362-6e6b-48f0-bd8b-93fc92c28bfb"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="Consul - Dynamic Route with Service [complete address]"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="endPointCalling"/&gt;
                            &lt;L7p:value stringValue="microsvc/"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="DYNAMIC ROUTE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Dynamic Route based on retrieved value for the given key in Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/JWT/JWT-JWKSEP</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4343</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4343">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4375" id="e5fa8dd4a897fdbdafa8327bde4b4343">
                        <l7:Name>JWT-JWKSEP</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/discovery/v2.0/keys</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CreateJsonWebKey&gt;
            &lt;L7p:Keys keys="included"&gt;
                &lt;L7p:item key="included"&gt;
                    &lt;L7p:KeyId stringValue="7layer"/&gt;
                    &lt;L7p:PublicKeyUse stringValue="Signature"/&gt;
                    &lt;L7p:SourceKeyAlias stringValue="jwtvalidate"/&gt;
                    &lt;L7p:SourceKeyGoid goidValue="00000000000000000000000000000002"/&gt;
                &lt;/L7p:item&gt;
            &lt;/L7p:Keys&gt;
            &lt;L7p:TargetVariable stringValue="jwk"/&gt;
        &lt;/L7p:CreateJsonWebKey&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="JHtqd2t9"/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Proxies/ORDER</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4345</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4345">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4378" id="e5fa8dd4a897fdbdafa8327bde4b4345">
                        <l7:Name>ORDER</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/order/*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="ewogICAgICJBcHBsaWNhdGlvbiI6ICJPcmRlciBBcHAiLAogICAgICJSZXNwb25zZSI6ICJBUEkgY2FsbCBTdWNjZXNzIgp9"/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/Consul-SecurityTest</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4337</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4337">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b4337">
                        <l7:Name>Consul-SecurityTest</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/consul/security</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Dynamic Service Route"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="5837c975-3929-4319-9f2b-59196a4dadee"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="Consul - Security"/&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Authentication Failure",
   "Descripton" : "User Authentication Failed- Please contact admin."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="AuthN Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                    &lt;L7p:IncludePolicyDownloadURL booleanValue="true"/&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="SECURITY"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//OnDemand Security "/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/Consul-KeyRoute</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4340</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4340">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b4340">
                        <l7:Name>Consul-KeyRoute</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/route/key*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="59414da5-c82e-4a84-8653-4ea35eacabad"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - Apply RateLimit"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="domain"/&gt;
                            &lt;L7p:value stringValue="crm"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " ApplyRateLimit",
   "Descripton" : "# of request exceeds the given limit - Please contact admin."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="RateLimit Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                    &lt;L7p:IncludePolicyDownloadURL booleanValue="true"/&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="ENTERPRISE Wide TEMPLATE Addition"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Add Enterprise wide templates"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="440f2f0c-af93-4dec-8de9-910cbcc423cd"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - Dynamic Route with Key"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="endPointCalling"/&gt;
                            &lt;L7p:value stringValue="route/key/"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="DYNAMIC ROUTE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Dynamic Route based on retrieved value for the given key in Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/JWT/JWT-METADATA</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b433e</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b433e">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4375" id="e5fa8dd4a897fdbdafa8327bde4b433e">
                        <l7:Name>JWT-METADATA</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/.well-known/v2.0/openid-configuration</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="eyAgCiAgICJqd2tzX3VyaSI6ImtleXMiCn0="/&gt;
            &lt;L7p:Enabled booleanValue="false"/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="eyAgCiAgICJhdXRob3JpemF0aW9uX2VuZHBvaW50IjoiaHR0cHM6XC9cL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb21cL3t0ZW5hbnR9XC9vYXV0aDJcL3YyLjBcL2F1dGhvcml6ZSIsCiAgICJ0b2tlbl9lbmRwb2ludCI6Imh0dHBzOlwvXC9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tXC97dGVuYW50fVwvb2F1dGgyXC92Mi4wXC90b2tlbiIsCiAgICJ0b2tlbl9lbmRwb2ludF9hdXRoX21ldGhvZHNfc3VwcG9ydGVkIjpbICAKICAgICAgImNsaWVudF9zZWNyZXRfcG9zdCIsCiAgICAgICJwcml2YXRlX2tleV9qd3QiCiAgIF0sCiAgICJqd2tzX3VyaSI6Imh0dHBzOlwvXC8ke2dhdGV3YXkuand0Lmhvc3R9OiR7Z2F0ZXdheS5qd3QucG9ydH1cL2Rpc2NvdmVyeVwvdjIuMFwva2V5cyIKfQ=="/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Proxies/ADDRESS</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b433d</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b433d">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4378" id="e5fa8dd4a897fdbdafa8327bde4b433d">
                        <l7:Name>ADDRESS</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/address/*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="ewogICAgICJBcHBsaWNhdGlvbiI6ICJBZGRyZXNzIEFwcCIsCiAgICAgIlJlc3BvbnNlIjogIkFQSSBjYWxsIFN1Y2Nlc3MiCn0="/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/Consul-ServiceCatalog</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4339</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4339">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b4339">
                        <l7:Name>Consul-ServiceCatalog</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/service/catalog*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Catalog Search"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="11a4fc01-f53c-4c16-a9d5-e2d17d94063f"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - Catalog Search"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="endPointCalling"/&gt;
                            &lt;L7p:value stringValue="service/catalog/"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Proxies/CONTACT</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4333</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4333">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4378" id="e5fa8dd4a897fdbdafa8327bde4b4333">
                        <l7:Name>CONTACT</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/contact/*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="ewogICAgICJBcHBsaWNhdGlvbiI6ICJDb250YWN0IEFwcCIsCiAgICAgIlJlc3BvbnNlIjogIkFQSSBjYWxsIFN1Y2Nlc3MiCn0="/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/JWT/JWT-Validate</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4349</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4349">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4375" id="e5fa8dd4a897fdbdafa8327bde4b4349">
                        <l7:Name>JWT-Validate</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/jwt/validate</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Include&gt;
                    &lt;L7p:PolicyGuid stringValue="54671f73-3a06-4eb2-a8de-92c04c42a3b5"/&gt;
                &lt;/L7p:Include&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Authentication Failure",
   "Descripton" : "Not a valid User - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/Consul-Delete</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4348</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4348">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b4348">
                        <l7:Name>Consul-Delete</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/delete/key*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="a77a637e-17f3-47a2-8bec-f1b1241eb47c"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="Consul - Delete Key"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="endPointCalling"/&gt;
                            &lt;L7p:value stringValue="delete/key/"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="JHtvdXRwdXQubWFpbnBhcnR9Cgo="/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/Consul-RegistryRoute</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b433b</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b433b">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b433b">
                        <l7:Name>Consul-RegistryRoute</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/registry/route*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Dynamic Service Route"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="5837c975-3929-4319-9f2b-59196a4dadee"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="Consul - Security"/&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Authentication Failure",
   "Descripton" : "User Authentication Failed- Please contact admin."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="AuthN Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                    &lt;L7p:IncludePolicyDownloadURL booleanValue="true"/&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="SECURITY"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//OnDemand Security "/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="59414da5-c82e-4a84-8653-4ea35eacabad"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - Apply RateLimit"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="domain"/&gt;
                            &lt;L7p:value stringValue="crm"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " ApplyRateLimit",
   "Descripton" : "# of request exceeds the given limit - Please contact admin."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="RateLimit Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                    &lt;L7p:IncludePolicyDownloadURL booleanValue="true"/&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="THROTTLING"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//OnDemand RatelImit"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="4eb1e362-6e6b-48f0-bd8b-93fc92c28bfb"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="Consul - Dynamic Route with Service [complete address]"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="endPointCalling"/&gt;
                            &lt;L7p:value stringValue="registry/route/"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="DYNAMIC ROUTE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Dynamic Route based on retrieved value for the given key in Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/CONSUL-RATELimit</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4342</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4342">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b4342">
                        <l7:Name>CONSUL-RATELimit</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/consul/ratelimit</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&amp;gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="59414da5-c82e-4a84-8653-4ea35eacabad"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - Apply RateLimit"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="domain"/&gt;
                            &lt;L7p:value stringValue="crm"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " ApplyRateLimit",
   "Descripton" : "# of request exceeds the given limit - Please contact admin."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="RateLimit Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                    &lt;L7p:IncludePolicyDownloadURL booleanValue="true"/&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="ENTERPRISE Wide TEMPLATE Addition"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Add Enterprise wide templates"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Consul/Consul-CreateNamespace</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b4341</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b4341">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4376" id="e5fa8dd4a897fdbdafa8327bde4b4341">
                        <l7:Name>Consul-CreateNamespace</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/consul/namespace</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="aHR0cDovLyR7Z2F0ZXdheS5jb25zdWwuaG9zdH06JHtnYXRld2F5LmNvbnN1bC5wb3J0fS92MQ=="/&gt;
            &lt;L7p:VariableToSet stringValue="consul.url"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:FailOnErrorStatus booleanValue="false"/&gt;
            &lt;L7p:HttpMethod httpMethod="PUT"/&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="http://10.16.1.25:8500/v1/namespace"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:Enabled booleanValue="false"/&gt;
            &lt;L7p:FailOnErrorStatus booleanValue="false"/&gt;
            &lt;L7p:HttpMethod httpMethod="PUT"/&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="http://${consul.url}/namespace"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Enterprise/Proxies/PROXY1</l7:Name>
            <l7:Id>e5fa8dd4a897fdbdafa8327bde4b433f</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:Resource>
                <l7:Service id="e5fa8dd4a897fdbdafa8327bde4b433f">
                    <l7:ServiceDetail folderId="e5fa8dd4a897fdbdafa8327bde4b4378" id="e5fa8dd4a897fdbdafa8327bde4b433f">
                        <l7:Name>PROXY1</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/rest/api01</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>DELETE</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="UHJveHkxIFN1Y2Nlc3MhISEgZnJvbSAiJHtnYXRld2F5LmNsdXN0ZXIuaG9zdG5hbWV9IgoKUXVlcnk6ICR7cmVxdWVzdC51cmwucXVlcnl9CgpIZWFkZXI6ICR7cmVxdWVzdC5odHRwLmFsbGhlYWRlcnZhbHVlc30="/&gt;
            &lt;L7p:ResponseContentType stringValue="text/plain; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>jwtvalidate</l7:Name>
            <l7:Id>00000000000000000000000000000002:jwtvalidate</l7:Id>
            <l7:Type>SSG_KEY_ENTRY</l7:Type>
            <l7:Resource>
                <l7:PrivateKey alias="jwtvalidate" id="00000000000000000000000000000002:jwtvalidate" keystoreId="00000000000000000000000000000002">
                    <l7:CertificateChain>
                        <l7:CertificateData>
                            <l7:IssuerName/>
                            <l7:SerialNumber>0</l7:SerialNumber>
                            <l7:SubjectName/>
                            <l7:Encoded>MIIBfTCCASegAwIBAgIJAPH69zKKw4ixMA0GCSqGSIb3DQEBBQUAMA8xDTALBgNVBAMTBHRlc3QwHhcNMTgxMDEzMDMyODI1WhcNMzgxMDA4MDMyODI1WjAPMQ0wCwYDVQQDEwR0ZXN0MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAIS+Vr8zPOBmSclkUtW/z0UXaMjhg7dix6IUZs+UoSiw/2GXfU2vc3renVAbn3AZaJEqnxgrcX4nldqt0WBIP4sCAwEAAaNmMGQwDgYDVR0PAQH/BAQDAgXgMBIGA1UdJQEB/wQIMAYGBFUdJQAwHQYDVR0OBBYEFN/aeDDEAB6MTxZhMhf/eJKnmaE5MB8GA1UdIwQYMBaAFN/aeDDEAB6MTxZhMhf/eJKnmaE5MA0GCSqGSIb3DQEBBQUAA0EAdolvh7bMX5ZMkM/yntJlBdzS8ukM/ULh8I11wKd6dDltyMuk9rOP0iEk1nsSFuFL0uQ4kIe12KyDwr8ns7VKvQ==</l7:Encoded>
                        </l7:CertificateData>
                    </l7:CertificateChain>
                    <l7:Properties>
                        <l7:Property key="keyAlgorithm">
                            <l7:StringValue>RSA</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:PrivateKey>
            </l7:Resource>
        </l7:Item>
    </l7:References>
    <l7:Mappings>
        <l7:Mapping action="NewOrExisting" srcId="0000000000000000ffffffffffffec76" type="FOLDER"/>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4374" type="FOLDER">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4375" type="FOLDER">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/JWT</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4376" type="FOLDER">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4377" type="FOLDER">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4378" type="FOLDER">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Proxies</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b435b" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/Consul - Dynamic Route with Service [complete address]</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b4357" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/Consul - PUT Key</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b435a" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/JWT-Validate</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b435e" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/Consul - Catalog Register</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b432d" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/Consul - DeRegister Catalog</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b435c" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/Consul - Catalog Search</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b4330" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/Consul-CatalogSync</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b432f" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/Consul - Dynamic Route with Service</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b4359" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/Consul - GET Key</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b435f" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/EncDecJWT</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b435d" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/Consul - Security</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b432e" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/Consul - Apply RateLimit</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b432c" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/OTK2JWTHeader</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b4358" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/Metrics</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b4356" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/Consul - Delete Key</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b4344" type="POLICY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/MasterTemplate/Consul - Dynamic Route with Key</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b4350" type="ENCAPSULATED_ASSERTION">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Consul - Security</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b4353" type="ENCAPSULATED_ASSERTION">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>JWT-Validate</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b4351" type="ENCAPSULATED_ASSERTION">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>CONSUL - Catalog Register</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b434b" type="ENCAPSULATED_ASSERTION">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Consul - Dynamic Route with Service [complete address]</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b434c" type="ENCAPSULATED_ASSERTION">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>CONSUL - DeRegister Catalog Service</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b434a" type="ENCAPSULATED_ASSERTION">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>CONSUL - Apply RateLimit</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b4354" type="ENCAPSULATED_ASSERTION">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Consul - Delete Key</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b4355" type="ENCAPSULATED_ASSERTION">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>CONSUL - PUT Key</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b4352" type="ENCAPSULATED_ASSERTION">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>CONSUL - Catalog Search</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b434e" type="ENCAPSULATED_ASSERTION">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>EncDecJWT</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b434d" type="ENCAPSULATED_ASSERTION">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>CONSUL - GET Key</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="e5fa8dd4a897fdbdafa8327bde4b434f" type="ENCAPSULATED_ASSERTION">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>CONSUL - Dynamic Route with Key</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4346" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Proxies/Employee</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b433c" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/Consul-PUT</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b433a" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/JWT/JWT-Basic</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4335" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/Consul-RegisterService</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4338" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Proxies/CUSTOMER</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4334" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/Consul-DeRegisterService</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4331" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/Consul-Get</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4332" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/Consul-AgentService</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4336" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/Consul - CacheUpdate</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4347" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/Consul-ServiceRoute</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4343" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/JWT/JWT-JWKSEP</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4345" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Proxies/ORDER</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4337" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/Consul-SecurityTest</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4340" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/Consul-KeyRoute</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b433e" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/JWT/JWT-METADATA</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b433d" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Proxies/ADDRESS</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4339" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/Consul-ServiceCatalog</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4333" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Proxies/CONTACT</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4349" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/JWT/JWT-Validate</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4348" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/Consul-Delete</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b433b" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/Consul-RegistryRoute</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4342" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/CONSUL-RATELimit</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4341" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Consul/Consul-CreateNamespace</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b433f" type="SERVICE">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>path</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>Enterprise/Proxies/PROXY1</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b4379" type="CLUSTER_PROPERTY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>jwt.port</l7:StringValue>
                </l7:Property>
                <l7:Property key="FailOnNew">
                    <l7:BooleanValue>true</l7:BooleanValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b437a" type="CLUSTER_PROPERTY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>clusterhost.ssl.port</l7:StringValue>
                </l7:Property>
                <l7:Property key="FailOnNew">
                    <l7:BooleanValue>true</l7:BooleanValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b437b" type="CLUSTER_PROPERTY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>consul.host</l7:StringValue>
                </l7:Property>
                <l7:Property key="FailOnNew">
                    <l7:BooleanValue>true</l7:BooleanValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b437c" type="CLUSTER_PROPERTY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>jwt.host</l7:StringValue>
                </l7:Property>
                <l7:Property key="FailOnNew">
                    <l7:BooleanValue>true</l7:BooleanValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="e5fa8dd4a897fdbdafa8327bde4b437d" type="CLUSTER_PROPERTY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>consul.port</l7:StringValue>
                </l7:Property>
                <l7:Property key="FailOnNew">
                    <l7:BooleanValue>true</l7:BooleanValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="00000000000000000000000000000002:jwtvalidate" type="SSG_KEY_ENTRY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
                <l7:Property key="MapTo">
                    <l7:StringValue>jwtvalidate</l7:StringValue>
                </l7:Property>
                <l7:Property key="FailOnNew">
                    <l7:BooleanValue>true</l7:BooleanValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
    </l7:Mappings>
</l7:Bundle>
